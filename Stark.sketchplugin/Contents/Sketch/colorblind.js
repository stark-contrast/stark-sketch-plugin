var that=this;function __skpm_run(key,context){that.context=context;var exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/sketch/colorblind.js")}({"./node_modules/@skpm/timers/immediate.js":
/*!************************************************!*\
  !*** ./node_modules/@skpm/timers/immediate.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){var o=n(/*! ./timeout */"./node_modules/@skpm/timers/timeout.js");e.exports={setImmediate:function(e,t,n,r,i,a,s,l,u,c,d){return o.setTimeout(e,0,t,n,r,i,a,s,l,u,c,d)},clearImmediate:function(e){return o.clearTimeout(e)}}},"./node_modules/@skpm/timers/interval.js":
/*!***********************************************!*\
  !*** ./node_modules/@skpm/timers/interval.js ***!
  \***********************************************/
/*! no static exports found */function(e,t,n){var o,r,i=[];n(/*! ./test-if-fiber */"./node_modules/@skpm/timers/test-if-fiber.js")()?(o=function(e,t,n,o,r,a,s,l,u,c,d,f){var h=i.length;return i.push(coscript.scheduleWithRepeatingInterval_jsFunction((t||0)/1e3,function(){e(n,o,r,a,s,l,u,c,d,f)})),h},r=function(e){var t=i[e];t&&(t.cancel(),i[e]=void 0)}):(o=function(e,t,n,o,r,a,s,l,u,c,d,f){coscript.shouldKeepAround=!0;var h=i.length;return i.push(!0),function m(){coscript.scheduleWithInterval_jsFunction((t||0)/1e3,function(){i[h]&&(e(n,o,r,a,s,l,u,c,d,f),m())})}(),h},r=function(e){i[e]=!1,i.every(function(e){return!e})&&(coscript.shouldKeepAround=!1)}),e.exports={setInterval:o,clearInterval:r}},"./node_modules/@skpm/timers/test-if-fiber.js":
/*!****************************************************!*\
  !*** ./node_modules/@skpm/timers/test-if-fiber.js ***!
  \****************************************************/
/*! no static exports found */function(e,t){e.exports=function(){return"undefined"!=typeof coscript&&coscript.createFiber}},"./node_modules/@skpm/timers/timeout.js":
/*!**********************************************!*\
  !*** ./node_modules/@skpm/timers/timeout.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,n){var o,r,i=[];if(n(/*! ./test-if-fiber */"./node_modules/@skpm/timers/test-if-fiber.js")()){i=[];o=function(e,t,n,o,r,a,s,l,u,c,d,f){var h=i.length;return i.push(coscript.scheduleWithInterval_jsFunction((t||0)/1e3,function(){e(n,o,r,a,s,l,u,c,d,f)})),h},r=function(e){var t=i[e];t&&(t.cancel(),i[e]=void 0)}}else o=function(e,t,n,o,a,s,l,u,c,d,f,h){coscript.shouldKeepAround=!0;var m=i.length;return i.push(!0),coscript.scheduleWithInterval_jsFunction((t||0)/1e3,function(){i[m]&&e(n,o,a,s,l,u,c,d,f,h),r(m),i.every(function(e){return!e})&&(coscript.shouldKeepAround=!1)}),m},r=function(e){i[e]=!1};e.exports={setTimeout:o,clearTimeout:r}},"./node_modules/@stark-contrast/color-utilities/lib/__constants.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/__constants.js ***!
  \*************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CB_ACHROLY=t.CB_ACHRO=t.CB_TRITALY=t.CB_TRITA=t.CB_DEUTERLY=t.CB_DEUTER=t.CB_PROTALY=t.CB_PROTA=t.RGBA_REGEX=void 0,t.RGBA_REGEX=/rgba?\((\d+%?)\s*,\s*(\d+%?)\s*,\s*(\d+%?)\s*,\s*(\d?.?\d+)?\)/,t.CB_PROTA="Protanopia",t.CB_PROTALY="Protanomaly",t.CB_DEUTER="Deuteranopia",t.CB_DEUTERLY="Deuteranomaly",t.CB_TRITA="Tritanopia",t.CB_TRITALY="Tritanomaly",t.CB_ACHRO="Achromatopsia",t.CB_ACHROLY="Achromatomaly"},"./node_modules/@stark-contrast/color-utilities/lib/__prop-types.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/__prop-types.js ***!
  \**************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@stark-contrast/color-utilities/lib/color-mixer.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/color-mixer.js ***!
  \*************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MixColors=void 0,t.MixColors=function(e,t){for(var n=[e.r,e.g,e.b],o=[t.r,t.g,t.b],r=[],i=0;i<=2;i++){var a=o[i],s=n[i];r.push(s+(a-s)*(t.a||1))}return{r:Math.round(r[0]),g:Math.round(r[1]),b:Math.round(r[2]),a:1}}},"./node_modules/@stark-contrast/color-utilities/lib/color-modifiers.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/color-modifiers.js ***!
  \*****************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LightenColor=t.DarkenColor=void 0;var o=n(/*! ./hsl-conversions */"./node_modules/@stark-contrast/color-utilities/lib/hsl-conversions.js"),r=n(/*! ./rgb-conversions */"./node_modules/@stark-contrast/color-utilities/lib/rgb-conversions.js");t.DarkenColor=function(e,t){var n=r.ConvertRgbaToBaseHsla(e);return n.l-=t,n.l<0&&(n.l=0),o.ConvertBaseHslaToRgba(n)},t.LightenColor=function(e,t){var n=r.ConvertRgbaToBaseHsla(e);return n.l+=t,n.l>1&&(n.l=1),o.ConvertBaseHslaToRgba(n)}},"./node_modules/@stark-contrast/color-utilities/lib/contrast-checker.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/contrast-checker.js ***!
  \******************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetContrastRatio=void 0,t.GetContrastRatio=function(e,t,n){var o=function(e){var t,n,o;return t=e.r/255,n=e.g/255,o=e.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))},r=(Math.max(o(e),o(t))+.05)/(Math.min(o(e),o(t))+.05);return n&&(r=Number(r.toFixed(2))),r}},"./node_modules/@stark-contrast/color-utilities/lib/get-luminance.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/get-luminance.js ***!
  \***************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetLuminance=void 0,t.GetLuminance=function(e){var t,n,o,r,i,a;return t=e.r/255,n=e.g/255,o=e.b/255,r=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),i=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),a=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),Number((.2126*r+.7152*i+.0722*a).toFixed(2))}},"./node_modules/@stark-contrast/color-utilities/lib/get-nearest-passing-color.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/get-nearest-passing-color.js ***!
  \***************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetColorSuggestions=t.GetNearestPassingColor=t.DetermineColorModification=void 0;var o=n(/*! ./color-modifiers */"./node_modules/@stark-contrast/color-utilities/lib/color-modifiers.js"),r=n(/*! ./contrast-checker */"./node_modules/@stark-contrast/color-utilities/lib/contrast-checker.js"),i=n(/*! ./rgb-conversions */"./node_modules/@stark-contrast/color-utilities/lib/rgb-conversions.js");t.DetermineColorModification=function(e,t,n){void 0===n&&(n=.05);var i=o.LightenColor(e,n),a=o.DarkenColor(e,n);return r.GetContrastRatio(i,t)>r.GetContrastRatio(a,t)?"light":"dark"},t.GetNearestPassingColor=function(e,n,i,a,s){void 0===i&&(i=.05),void 0===a&&(a=4.5);var l="light"===t.DetermineColorModification(e,n,i)?o.LightenColor:o.DarkenColor;s&&(l="light"===s?o.LightenColor:o.DarkenColor);for(var u=i,c=r.GetContrastRatio(e,n),d=c<a,f=e;d;){var h=l(e,u+=i),m=c;(c=r.GetContrastRatio(h,n))>=a&&(f=h,d=!1),m===c&&(d=!1)}return f},t.GetColorSuggestions=function(e,n,r,a,s){void 0===r&&(r=4),void 0===a&&(a=.05),void 0===s&&(s=.1);for(var l=t.DetermineColorModification(e,n,a),u=t.GetNearestPassingColor(e,n,a),c="light"===l?o.LightenColor:o.DarkenColor,d=[i.ConvertRgbaToRgbaString(u)],f=1;f<r;f++)d.push(i.ConvertRgbaToRgbaString(c(u,f*s)));var h=0;if(d.forEach(function(e,t){0!==t&&e===d[t-1]&&h++}),h>2){var m="light"===l?o.DarkenColor:o.LightenColor,p=t.GetNearestPassingColor(e,n,a,4.5,"light"===l?"dark":"light"),S=[i.ConvertRgbaToRgbaString(p)];for(f=1;f<r;f++)S.push(i.ConvertRgbaToRgbaString(m(p,.1*f)));var g=0;if(S.forEach(function(e,t){0!==t&&e===S[t-1]&&g++}),g<h)return S}return d}},"./node_modules/@stark-contrast/color-utilities/lib/hex-conversions.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/hex-conversions.js ***!
  \*****************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConvertHexToRgba=t.ConvertHexToRgbaString=void 0,t.ConvertHexToRgbaString=function(e){var t=e.startsWith("#")?e.substring(1,e.length+1):e,n={r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:parseInt(t.slice(6,8),16)/255};return"rgba("+n.r+", "+n.g+", "+n.b+", "+(n.a?n.a.toFixed(2):1)+")"},t.ConvertHexToRgba=function(e){var t=e.startsWith("#")?e.substring(1,e.length+1):e,n=parseInt(t.slice(6,8),16)/255||1;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:Number(n.toFixed(2))}}},"./node_modules/@stark-contrast/color-utilities/lib/hsl-conversions.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/hsl-conversions.js ***!
  \*****************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConvertBaseHslaToRgba=void 0,t.ConvertBaseHslaToRgba=function(e){var t,n,o,r=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e};if(0===e.s)t=n=o=e.l;else{var i=e.l<.5?e.l*(1+e.s):e.l+e.s-e.l*e.s,a=2*e.l-i;t=r(a,i,e.h+1/3),n=r(a,i,e.h),o=r(a,i,e.h-1/3)}return{r:Math.round(255*t),g:Math.round(255*n),b:Math.round(255*o),a:e.a}}},"./node_modules/@stark-contrast/color-utilities/lib/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/index.js ***!
  \*******************************************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(/*! ./color-mixer */"./node_modules/@stark-contrast/color-utilities/lib/color-mixer.js"),t),r(n(/*! ./color-modifiers */"./node_modules/@stark-contrast/color-utilities/lib/color-modifiers.js"),t),r(n(/*! ./contrast-checker */"./node_modules/@stark-contrast/color-utilities/lib/contrast-checker.js"),t),r(n(/*! ./get-luminance */"./node_modules/@stark-contrast/color-utilities/lib/get-luminance.js"),t),r(n(/*! ./get-nearest-passing-color */"./node_modules/@stark-contrast/color-utilities/lib/get-nearest-passing-color.js"),t),r(n(/*! ./hex-conversions */"./node_modules/@stark-contrast/color-utilities/lib/hex-conversions.js"),t),r(n(/*! ./hsl-conversions */"./node_modules/@stark-contrast/color-utilities/lib/hsl-conversions.js"),t),r(n(/*! ./rgb-conversions */"./node_modules/@stark-contrast/color-utilities/lib/rgb-conversions.js"),t),r(n(/*! ./simulate-colorblindness */"./node_modules/@stark-contrast/color-utilities/lib/simulate-colorblindness.js"),t),r(n(/*! ./__constants */"./node_modules/@stark-contrast/color-utilities/lib/__constants.js"),t),r(n(/*! ./__prop-types */"./node_modules/@stark-contrast/color-utilities/lib/__prop-types.js"),t)},"./node_modules/@stark-contrast/color-utilities/lib/rgb-conversions.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/rgb-conversions.js ***!
  \*****************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConvertRgbaToHex=t.ConvertRgbaToBaseHsla=t.ConvertRgbaToHsla=t.ConvertRgbaStringToBaseRgba=t.ConvertRgbaStringToRgba=t.ConvertBaseRgbaToRgbaString=t.ConvertRgbaToRgbaString=void 0;var o=n(/*! ./__constants */"./node_modules/@stark-contrast/color-utilities/lib/__constants.js");t.ConvertRgbaToRgbaString=function(e){return"rgba("+e.r+", "+e.g+", "+e.b+", "+(e.a?e.a:1)+")"},t.ConvertBaseRgbaToRgbaString=function(e){return"rgba("+Math.round(255*e.r)+", "+Math.round(255*e.g)+", "+Math.round(255*e.b)+", "+(e.a?e.a:1)+")"},t.ConvertRgbaStringToRgba=function(e){var t=o.RGBA_REGEX,n=e.match(t);return n&&(null===n||void 0===n?void 0:n.length)>0?{r:Number(n[1]),g:Number(n[2]),b:Number(n[3]),a:Number(n[4])}:{r:0,g:0,b:0,a:0}},t.ConvertRgbaStringToBaseRgba=function(e){var t=o.RGBA_REGEX,n=e.match(t);return n&&(null===n||void 0===n?void 0:n.length)>0?{r:Number(n[1])/255,g:Number(n[2])/255,b:Number(n[3])/255,a:Number(n[4])}:{r:0,g:0,b:0,a:0}},t.ConvertRgbaToHsla=function(e){var t,n=e.r/255,o=e.g/255,r=e.b/255,i=Math.max(n,o,r),a=Math.min(n,o,r),s=0,l=(i+a)/2;if(i===a)s=t=0;else{var u=i-a;switch(t=l>.5?u/(2-i-a):u/(i+a),i){case n:s=(o-r)/u+(o<r?6:0);break;case o:s=(r-n)/u+2;break;case r:s=(n-o)/u+4}s/=6}return{h:Math.round(360*s),s:Math.round(100*t),l:Math.round(100*l),a:e.a}},t.ConvertRgbaToBaseHsla=function(e){var t,n=e.r/255,o=e.g/255,r=e.b/255,i=Math.max(n,o,r),a=Math.min(n,o,r),s=0,l=(i+a)/2;if(i===a)s=t=0;else{var u=i-a;switch(t=l>.5?u/(2-i-a):u/(i+a),i){case n:s=(o-r)/u+(o<r?6:0);break;case o:s=(r-n)/u+2;break;case r:s=(n-o)/u+4}s/=6}return{h:s,s:t,l:l,a:e.a}},t.ConvertRgbaToHex=function(e,t,n){var o=function(e){return 1===e.length?"0"+e:""+e};return(t?"#":"")+o(Math.round(e.r).toString(16))+o(Math.round(e.g).toString(16))+o(Math.round(e.b).toString(16))+(n&&e.a?o(Math.round(255*e.a).toString(16)):"")}},"./node_modules/@stark-contrast/color-utilities/lib/simulate-colorblindness.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/simulate-colorblindness.js ***!
  \*************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetColorblindMatrixString=t.GetColorblindMatrixArray=t.SimulateColorblindness=void 0,t.SimulateColorblindness=function(e,t){var n=function(e){return e<0?0:e<255?e:255},o=e.r,r=e.g,i=e.b,a=e.a?e.a:1,s=o*t[0]+r*t[1]+i*t[2]+a*t[3]+t[4],l=o*t[5]+r*t[6]+i*t[7]+a*t[8]+t[9],u=o*t[10]+r*t[11]+i*t[12]+a*t[13]+t[14],c=o*t[15]+r*t[16]+i*t[17]+a*t[18]+t[19];return{r:Math.round(n(s)),g:Math.round(n(l)),b:Math.round(n(u)),a:n(c)}},t.GetColorblindMatrixArray=function(e){switch(e){case"Protanopia":return[.567,.433,0,0,0,.558,.442,0,0,0,0,.242,.758,0,0,0,0,0,1,0];case"Protanomaly":return[.817,.183,0,0,0,.333,.667,0,0,0,0,.125,.875,0,0,0,0,0,1,0];case"Deuteranopia":return[.625,.375,0,0,0,.7,.3,0,0,0,0,.3,.7,0,0,0,0,0,1,0];case"Deuteranomaly":return[.8,.2,0,0,0,.258,.742,0,0,0,0,.142,.858,0,0,0,0,0,1,0];case"Tritanopia":return[.95,.05,0,0,0,0,.433,.567,0,0,0,.475,.525,0,0,0,0,0,1,0];case"Tritanomaly":return[.967,.033,0,0,0,0,.733,.267,0,0,0,.183,.817,0,0,0,0,0,1,0];case"Achromatopsia":return[.299,.587,.114,0,0,.299,.587,.114,0,0,.299,.587,.114,0,0,0,0,0,1,0];case"Achromatomaly":return[.618,.32,.062,0,0,.163,.775,.062,0,0,.163,.32,.516,0,0,0,0,0,1,0];default:return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}},t.GetColorblindMatrixString=function(e){return t.GetColorblindMatrixArray(e).join(", ")}},"./node_modules/mocha-js-delegate/index.js":
/*!*************************************************!*\
  !*** ./node_modules/mocha-js-delegate/index.js ***!
  \*************************************************/
/*! no static exports found */function(module,exports){module.exports=function MochaDelegate(definition,superclass){var uniqueClassName="MochaJSDelegate_DynamicClass_"+NSUUID.UUID().UUIDString(),delegateClassDesc=MOClassDescription.allocateDescriptionForClassWithName_superclass_(uniqueClassName,superclass||NSObject),handlers={},ivars={};function setHandlerForSelector(selectorString,func){var handlerHasBeenSet=selectorString in handlers,selector=NSSelectorFromString(selectorString);if(handlers[selectorString]=func,!handlerHasBeenSet){for(var args=[],regex=/:/g;regex.exec(selectorString);)args.push("arg"+args.length);var dynamicFunction=eval("(function ("+args.join(", ")+") { return handlers[selectorString].apply(this, arguments); })");delegateClassDesc.addInstanceMethodWithSelector_function(selector,dynamicFunction)}}function setIvar(e,t){var n=e in handlers;if(ivars[e]=t,!n){delegateClassDesc.addInstanceVariableWithName_typeEncoding(e,"@");var o=MOPropertyDescription.new();o.name=e,o.typeEncoding="@",o.weak=!0,o.ivarName=e,delegateClassDesc.addProperty(o)}}this.getClass=function(){return NSClassFromString(uniqueClassName)},this.getClassInstance=function(e){var t=NSClassFromString(uniqueClassName).new();return Object.keys(ivars).forEach(function(e){t[e]=ivars[e]}),Object.keys(e||{}).forEach(function(n){t[n]=e[n]}),t},this.new=this.getClassInstance,"object"==typeof definition&&Object.keys(definition).forEach(function(e){"function"==typeof definition[e]?setHandlerForSelector(e,definition[e]):setIvar(e,definition[e])}),delegateClassDesc.registerClass()}},"./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */function(e,t,n){(function(t,n){var o,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(o===t)return t(e,0);if((o===a||!o)&&t)return o=t,t(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof t?t:a}catch(e){o=a}try{r="function"==typeof n?n:s}catch(e){r=s}}();var u,c=[],d=!1,f=-1;function h(){d&&u&&(d=!1,u.length?c=u.concat(c):f=-1,c.length&&m())}function m(){if(!d){var e=l(h);d=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,d=!1,function(e){if(r===n)return n(e);if((r===s||!r)&&n)return r=n,n(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function S(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||d||l(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=S,i.addListener=S,i.once=S,i.off=S,i.removeListener=S,i.removeAllListeners=S,i.emit=S,i.prependListener=S,i.prependOnceListener=S,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}).call(this,n(/*! ./node_modules/@skpm/timers/timeout.js */"./node_modules/@skpm/timers/timeout.js").setTimeout,n(/*! ./node_modules/@skpm/timers/timeout.js */"./node_modules/@skpm/timers/timeout.js").clearTimeout)},"./node_modules/promise-polyfill/lib/index.js":
/*!****************************************************!*\
  !*** ./node_modules/promise-polyfill/lib/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(t,n){var o=t;function r(e){return Boolean(e&&void 0!==e.length)}function i(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(e){return void u(t.promise,e)}l(t.promise,o)}else(1===e._state?l:u)(t.promise,e._value)})):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void d(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,l(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return s(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},a.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},a.all=function(e){return new a(function(t,n){if(!r(e))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);var i=o.length;function a(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,function(t){a(e,t)},n)}o[e]=r,0==--i&&t(o)}catch(e){n(e)}}for(var s=0;s<o.length;s++)a(s,o[s])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var o=0,i=e.length;o<i;o++)a.resolve(e[o]).then(t,n)})},a._immediateFn="function"==typeof n&&function(e){n(e)}||function(e){o(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=a}).call(this,n(/*! ./node_modules/@skpm/timers/timeout.js */"./node_modules/@skpm/timers/timeout.js").setTimeout,n(/*! ./node_modules/@skpm/timers/immediate.js */"./node_modules/@skpm/timers/immediate.js").setImmediate)},"./node_modules/sketch-module-web-view/lib/browser-api.js":
/*!****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/browser-api.js ***!
  \****************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t,n){function o(n){e.isVisible()&&(n?(NSApplication.sharedApplication().activateIgnoringOtherApps(!0),t.makeKeyAndOrderFront(null)):(t.orderBack(null),NSApp.mainWindow().makeKeyAndOrderFront(null)))}e._panel=t,e._webview=n,e._destroyed=!1,e.destroy=function(){return t.close()},e.close=function(){if(t.delegate().utils&&t.delegate().utils.parentWindow){var n=!0;return e.emit("close",{get defaultPrevented(){return!n},preventDefault:function(){n=!1}}),void(n&&t.delegate().utils.parentWindow.endSheet(t))}e.isClosable()&&t.performClose(null)},e.focus=o.bind(this,!0),e.blur=o.bind(this,!1),e.isFocused=function(){return t.isKeyWindow()},e.isDestroyed=function(){return e._destroyed},e.show=function(){return NSApp.activateIgnoringOtherApps(!0),t.delegate().utils&&t.delegate().utils.parentWindow?t.delegate().utils.parentWindow.beginSheet_completionHandler(t,__mocha__.createBlock_function("v16@?0q8",function(){e.emit("closed")})):t.makeKeyAndOrderFront(null)},e.showInactive=function(){return t.orderFrontRegardless()},e.hide=function(){return t.orderOut(null)},e.isVisible=function(){return t.isVisible()},e.isModal=function(){return!1},e.maximize=function(){e.isMaximized()||t.zoom(null)},e.unmaximize=function(){e.isMaximized()&&t.zoom(null)},e.isMaximized=function(){if(0!=(t.styleMask()&NSResizableWindowMask))return t.isZoomed();var e=NSScreen.mainScreen().visibleFrame(),n=t.frame();return e.origin.x==n.origin.x&&e.origin.y==n.origin.y&&e.size.width==n.size.width&&e.size.height==n.size.height},e.minimize=function(){return t.miniaturize(null)},e.restore=function(){return t.deminiaturize(null)},e.isMinimized=function(){return t.isMiniaturized()},e.setFullScreen=function(n){n!==e.isFullscreen()&&t.toggleFullScreen(null)},e.isFullscreen=function(){return t.styleMask()&NSFullScreenWindowMask},e.setAspectRatio=function(e){e>0?t.setAspectRatio(NSMakeSize(e,1)):t.setResizeIncrements(NSMakeSize(1,1))},e.setBounds=function(n,o){if(!n)return;if(e.isFullscreen())return;const r=Object.assign(e.getBounds(),n);var i=NSMakeRect(r.x,0,r.width,r.height),a=NSScreen.screens().firstObject();i.origin.y=NSHeight(a.frame())-r.y,t.setFrame_display_animate(i,!0,o)},e.getBounds=function(){const e=t.frame();var n=NSScreen.screens().firstObject().frame();return{x:e.origin.x,y:Math.round(NSHeight(n)-e.origin.y),width:e.size.width,height:e.size.height}},e.setContentBounds=function(t,n){e.setBounds(t,n)},e.getContentBounds=function(){return e.getBounds()},e.setSize=function(t,n,o){return e.setBounds({width:t,height:n},o)},e.getSize=function(){var t=e.getBounds();return[t.width,t.height]},e.setContentSize=function(t,n,o){return e.setContentBounds({width:t,height:n},o)},e.getContentSize=function(){var t=e.getContentBounds();return[t.width,t.height]},e.setMinimumSize=function(e,n){const o=CGSizeMake(e,n);t.setContentMinSize(o)},e.getMinimumSize=function(){const e=t.contentMinSize();return[e.width,e.height]},e.setMaximumSize=function(e,n){const o=CGSizeMake(e,n);t.setContentMaxSize(o)},e.getMaximumSize=function(){const e=t.contentMaxSize();return[e.width,e.height]},e.setResizable=function(t){return e._setStyleMask(t,NSResizableWindowMask)},e.isResizable=function(){return t.styleMask()&NSResizableWindowMask},e.setMovable=function(e){return t.setMovable(e)},e.isMovable=function(){return t.isMovable()},e.setMinimizable=function(t){return e._setStyleMask(t,NSMiniaturizableWindowMask)},e.isMinimizable=function(){return t.styleMask()&NSMiniaturizableWindowMask},e.setMaximizable=function(e){t.standardWindowButton(NSWindowZoomButton)&&t.standardWindowButton(NSWindowZoomButton).setEnabled(e)},e.isMaximizable=function(){return t.standardWindowButton(NSWindowZoomButton)&&t.standardWindowButton(NSWindowZoomButton).isEnabled()},e.setFullScreenable=function(t){e._setCollectionBehavior(t,NSWindowCollectionBehaviorFullScreenPrimary),e._setCollectionBehavior(!t,NSWindowCollectionBehaviorFullScreenAuxiliary)},e.isFullScreenable=function(){return t.collectionBehavior()&NSWindowCollectionBehaviorFullScreenPrimary},e.setClosable=function(t){e._setStyleMask(t,NSClosableWindowMask)},e.isClosable=function(){return t.styleMask()&NSClosableWindowMask},e.setAlwaysOnTop=function(e,n,o){var r=NSNormalWindowLevel,i=CGWindowLevelForKey(kCGMaximumWindowLevelKey),a=CGWindowLevelForKey(kCGMinimumWindowLevelKey);e&&(r="normal"===n?NSNormalWindowLevel:"torn-off-menu"===n?NSTornOffMenuWindowLevel:"modal-panel"===n?NSModalPanelWindowLevel:"main-menu"===n?NSMainMenuWindowLevel:"status"===n?NSStatusWindowLevel:"pop-up-menu"===n?NSPopUpMenuWindowLevel:"screen-saver"===n?NSScreenSaverWindowLevel:"dock"===n?NSDockWindowLevel:NSFloatingWindowLevel);var s=r+(o||0);if(!(s>=a&&s<=i))throw new Error("relativeLevel must be between "+a+" and "+i);t.setLevel(s)},e.isAlwaysOnTop=function(){return t.level()!==NSNormalWindowLevel},e.moveTop=function(){return t.orderFrontRegardless()},e.center=function(){t.center()},e.setPosition=function(t,n,o){return e.setBounds({x:t,y:n},o)},e.getPosition=function(){var t=e.getBounds();return[t.x,t.y]},e.setTitle=function(e){t.setTitle(e)},e.getTitle=function(){return String(t.title())};var r=0;e.flashFrame=function(e){e?r=NSApp.requestUserAttention(NSInformationalRequest):(NSApp.cancelUserAttentionRequest(r),r=0)},e.getNativeWindowHandle=function(){return t},e.getNativeWebViewHandle=function(){return n},e.loadURL=function(e){if(/^(?!https?|file).*\.html?$/.test(e)&&"undefined"!=typeof __command&&__command.pluginBundle()&&(e="file://"+__command.pluginBundle().urlForResourceNamed(e).path()),/^file:\/\/.*\.html?$/.test(e))return e=(e=NSString.alloc().initWithString(e)).stringByAddingPercentEncodingWithAllowedCharacters(NSCharacterSet.URLQueryAllowedCharacterSet()),void n.loadFileURL_allowingReadAccessToURL(NSURL.URLWithString(e),NSURL.URLWithString("file:///"));const t=NSURL.URLWithString(e),o=NSURLRequest.requestWithURL(t);n.loadRequest(o)},e.reload=function(){n.reload()},e.setHasShadow=function(e){return t.setHasShadow(e)},e.hasShadow=function(){return t.hasShadow()},e.setOpacity=function(e){return t.setAlphaValue(e)},e.getOpacity=function(){return t.alphaValue()},e.setVisibleOnAllWorkspaces=function(t){return e._setCollectionBehavior(t,NSWindowCollectionBehaviorCanJoinAllSpaces)},e.isVisibleOnAllWorkspaces=function(){return t.collectionBehavior()&NSWindowCollectionBehaviorCanJoinAllSpaces},e.setIgnoreMouseEvents=function(e){return t.setIgnoresMouseEvents(e)},e.setContentProtection=function(e){t.setSharingType(e?NSWindowSharingNone:NSWindowSharingReadOnly)},e.setAutoHideCursor=function(e){t.setDisableAutoHideCursor(e)},e.setVibrancy=function(n){var o=e._vibrantView;if(!n){if(null==o)return;return o.removeFromSuperview(),void t.setVibrantView(null)}if(null==o){var r=t.contentView();o=NSVisualEffectView.alloc().initWithFrame(r.bounds()),e._vibrantView=o,o.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),o.setBlendingMode(NSVisualEffectBlendingModeBehindWindow),o.setState(NSVisualEffectStateActive),o.setFrame(r.bounds()),r.addSubview_positioned_relativeTo(o,NSWindowBelow,null)}var i=NSVisualEffectMaterialLight;"appearance-based"===n?i=NSVisualEffectMaterialAppearanceBased:"light"===n?i=NSVisualEffectMaterialLight:"dark"===n?i=NSVisualEffectMaterialDark:"titlebar"===n?i=NSVisualEffectMaterialTitlebar:"selection"===n?i=NSVisualEffectMaterialSelection:"menu"===n?i=NSVisualEffectMaterialMenu:"popover"===n?i=NSVisualEffectMaterialPopover:"sidebar"===n?i=NSVisualEffectMaterialSidebar:"medium-light"===n?i=NSVisualEffectMaterialMediumLight:"ultra-dark"===n&&(i=NSVisualEffectMaterialUltraDark),o.setMaterial(i)},e._setBackgroundColor=function(e){var o=function(e){if(!e||"#"!==e[0]){if(e&&"function"==typeof e.isKindOfClass&&e.isKindOfClass(NSColor))return e;throw new Error("Incorrect color formating. It should be an hex color: #RRGGBBAA")}var t,n=e.substr(1);if(3===n.length?n+="F":6===n.length&&(n+="FF"),4===n.length)for(var o=0;o<4;o+=1)t+=n[o],t+=n[o];else{if(8!==n.length)return NSColor.whiteColor();t=n}var r=parseInt(t.slice(0,2),16),i=parseInt(t.slice(2,4),16),a=parseInt(t.slice(4,6),16),s=parseInt(t.slice(6,8),16);return NSColor.colorWithSRGBRed_green_blue_alpha(r,i,a,s)}(e);n.setValue_forKey(!1,"drawsBackground"),t.backgroundColor=o},e._invalidate=function(){t.flushWindow(),t.contentView().setNeedsDisplay(!0)},e._setStyleMask=function(n,o){var r=e.isMaximizable();n?t.setStyleMask(t.styleMask()|o):t.setStyleMask(t.styleMask()&~o),e.setMaximizable(r)},e._setCollectionBehavior=function(n,o){var r=e.isMaximizable();n?t.setCollectionBehavior(t.collectionBehavior()|o):t.setCollectionBehavior(t.collectionBehavior()&~o),e.setMaximizable(r)},e._showWindowButton=function(e){var n=t.standardWindowButton(e);n.superview().addSubview_positioned_relative(n,NSWindowAbove,null)}}},"./node_modules/sketch-module-web-view/lib/constants.js":
/*!**************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/constants.js ***!
  \**************************************************************/
/*! no static exports found */function(e,t){e.exports={JS_BRIDGE:"__skpm_sketchBridge",JS_BRIDGE_RESULT_SUCCESS:"__skpm_sketchBridge_success",JS_BRIDGE_RESULT_ERROR:"__skpm_sketchBridge_error",START_MOVING_WINDOW:"__skpm_startMovingWindow",EXECUTE_JAVASCRIPT:"__skpm_executeJS",EXECUTE_JAVASCRIPT_SUCCESS:"__skpm_executeJS_success_",EXECUTE_JAVASCRIPT_ERROR:"__skpm_executeJS_error_"}},"./node_modules/sketch-module-web-view/lib/dispatch-first-click.js":
/*!*************************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/dispatch-first-click.js ***!
  \*************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){var n=e.convertPoint_fromView(t.locationInWindow(),null);return"var el = document.elementFromPoint("+n.x+", "+n.y+'); if (el && el.tagName === "SELECT") {  var event = document.createEvent("MouseEvents");  event.initMouseEvent("mousedown", true, true, window);  el.dispatchEvent(event);} else if (el && ["text", "textarea", "date", "datetime-local", "email", "number", "month", "password", "search", "tel", "time", "url", "week" ].indexOf(el.type) >= 0 && el.focus) {el.focus();} else if (el) {el.dispatchEvent(new Event("click", {bubbles: true}))}'}},"./node_modules/sketch-module-web-view/lib/execute-javascript.js":
/*!***********************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/execute-javascript.js ***!
  \***********************************************************************/
/*! no static exports found */function(e,t,n){(function(t){var o=n(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports=function(n,r){return function i(a,s,l){"function"==typeof s&&(l=s,s=!1);var u=coscript.createFiber();return n.navigationDelegate().state&&0==n.navigationDelegate().state.wasReady?new t(function(e,t){r.once("ready-to-show",function(){i(a,s,l).then(e).catch(t),u.cleanup()})}):new t(function(t,i){var s=Math.random();r.webContents.on(o.EXECUTE_JAVASCRIPT_SUCCESS+s,function(e){try{l&&l(null,e),t(e)}catch(e){i(e)}u.cleanup()}),r.webContents.on(o.EXECUTE_JAVASCRIPT_ERROR+s,function(e){try{l?(l(e),t()):i(e)}catch(e){i(e)}u.cleanup()}),n.evaluateJavaScript_completionHandler(e.exports.wrapScript(a,s),null)})}},e.exports.wrapScript=function(e,t){return"window."+o.EXECUTE_JAVASCRIPT+"("+t+", "+JSON.stringify(e)+")"},e.exports.injectScript=function(e){var t="window."+o.EXECUTE_JAVASCRIPT+' = function(id, script) {  try {    var res = eval(script);    if (res && typeof res.then === "function" && typeof res.catch === "function") {      res.then(function (res2) {        window.postMessage("'+o.EXECUTE_JAVASCRIPT_SUCCESS+'" + id, res2);      })      .catch(function (err) {        window.postMessage("'+o.EXECUTE_JAVASCRIPT_ERROR+'" + id, err);      })    } else {      window.postMessage("'+o.EXECUTE_JAVASCRIPT_SUCCESS+'" + id, res);    }  } catch (err) {    window.postMessage("'+o.EXECUTE_JAVASCRIPT_ERROR+'" + id, err);  }}',n=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);e.configuration().userContentController().addUserScript(n)}}).call(this,n(/*! ./node_modules/promise-polyfill/lib/index.js */"./node_modules/promise-polyfill/lib/index.js"))},"./node_modules/sketch-module-web-view/lib/fitSubview.js":
/*!***************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/fitSubview.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t){function n(e,t,n,o){n.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(t,e,NSLayoutRelationEqual,n,e,1,o))}e.exports=function(e,t,o){o=o||[],e.setTranslatesAutoresizingMaskIntoConstraints(!1),n(NSLayoutAttributeLeft,e,t,o[0]||0),n(NSLayoutAttributeTop,e,t,o[1]||0),n(NSLayoutAttributeRight,e,t,o[2]||0),n(NSLayoutAttributeBottom,e,t,o[3]||0)}},"./node_modules/sketch-module-web-view/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var o=n(/*! events */"events"),r=n(/*! ./browser-api */"./node_modules/sketch-module-web-view/lib/browser-api.js"),i=n(/*! ./webview-api */"./node_modules/sketch-module-web-view/lib/webview-api.js"),a=n(/*! ./fitSubview */"./node_modules/sketch-module-web-view/lib/fitSubview.js"),s=n(/*! ./dispatch-first-click */"./node_modules/sketch-module-web-view/lib/dispatch-first-click.js"),l=n(/*! ./inject-client-messaging */"./node_modules/sketch-module-web-view/lib/inject-client-messaging.js"),u=n(/*! ./movable-area */"./node_modules/sketch-module-web-view/lib/movable-area.js"),c=n(/*! ./execute-javascript */"./node_modules/sketch-module-web-view/lib/execute-javascript.js"),d=n(/*! ./set-delegates */"./node_modules/sketch-module-web-view/lib/set-delegates.js");function f(e){var t=(e=e||{}).identifier||NSUUID.UUID().UUIDString(),n=NSThread.mainThread().threadDictionary(),h=f.fromId(t);if(h)return h;var m=new o;if(m.id=t,e.modal&&!e.parent)throw new Error("A modal needs to have a parent.");var p=coscript.createFiber(),S=e.width||800,g=e.height||600,v=NSScreen.screens().firstObject().frame(),b=NSMakeRect(void 0!==e.x?e.x:Math.round((NSWidth(v)-S)/2),void 0!==e.y?NSHeight(v)-e.y:Math.round((NSHeight(v)-g)/2),S,g);e.titleBarStyle&&"default"!==e.titleBarStyle&&(e.frame=!1);var w="textured"!==e.windowType,_=NSTitledWindowMask;!1!==e.minimizable&&(_|=NSMiniaturizableWindowMask),!1!==e.closable&&(_|=NSClosableWindowMask),!1!==e.resizable&&(_|=NSResizableWindowMask),w&&!e.transparent&&!1!==e.frame||(_|=NSTexturedBackgroundWindowMask);var y=NSPanel.alloc().initWithContentRect_styleMask_backing_defer(b,_,NSBackingStoreBuffered,!0),T=WKWebViewConfiguration.alloc().init(),C=WKWebView.alloc().initWithFrame_configuration(CGRectMake(0,0,e.width||800,e.height||600),T);if(l(C),C.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),r(m,y,C),i(m,y,C),d(m,y,C,e),"desktop"===e.windowType&&(y.setLevel(kCGDesktopWindowLevel-1),y.setCollectionBehavior(NSWindowCollectionBehaviorCanJoinAllSpaces|NSWindowCollectionBehaviorStationary|NSWindowCollectionBehaviorIgnoresCycle)),void 0===e.minWidth&&void 0===e.minHeight||m.setMinimumSize(e.minWidth||0,e.minHeight||0),void 0===e.maxWidth&&void 0===e.maxHeight||m.setMaximumSize(e.maxWidth||1e4,e.maxHeight||1e4),e.transparent||!1===e.frame){y.titlebarAppearsTransparent=!0,y.titleVisibility=NSWindowTitleHidden,y.setOpaque(0),y.isMovableByWindowBackground=!0;var N=NSToolbar.alloc().initWithIdentifier("titlebarStylingToolbar");N.setShowsBaselineSeparator(!1),y.setToolbar(N)}if("hiddenInset"===e.titleBarStyle){var k=NSToolbar.alloc().initWithIdentifier("titlebarStylingToolbar");k.setShowsBaselineSeparator(!1),y.setToolbar(k)}!1!==e.frame&&e.useContentSize||m.setSize(S,g),e.center&&m.center(),e.alwaysOnTop&&m.setAlwaysOnTop(!0),e.fullscreen&&m.setFullScreen(!0),m.setFullScreenable(!!e.fullscreenable);let E=e.title;!1===e.frame?E=void 0:void 0===E&&"undefined"!=typeof __command&&__command.pluginBundle()&&(E=__command.pluginBundle().name()),E&&m.setTitle(E);var R=e.backgroundColor;e.transparent&&(R=NSColor.clearColor()),!R&&!1===e.frame&&e.vibrancy&&(R=NSColor.clearColor()),m._setBackgroundColor(R||NSColor.windowBackgroundColor()),!1===e.hasShadow&&m.setHasShadow(!1),void 0!==e.opacity&&m.setOpacity(e.opacity),e.webPreferences=e.webPreferences||{},C.configuration().preferences().setValue_forKey(!1!==e.webPreferences.devTools,"developerExtrasEnabled"),C.configuration().preferences().setValue_forKey(!1!==e.webPreferences.javascript,"javaScriptEnabled"),C.configuration().preferences().setValue_forKey(!!e.webPreferences.plugins,"plugInsEnabled"),C.configuration().preferences().setValue_forKey(e.webPreferences.minimumFontSize||0,"minimumFontSize"),e.webPreferences.zoomFactor&&C.setMagnification(e.webPreferences.zoomFactor);var M=y.contentView();return!1!==e.frame?(C.setFrame(M.bounds()),M.addSubview(C)):(M.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),a(M,M.superview()),C.setFrame(M.bounds()),M.addSubview(C),y.standardWindowButton(NSWindowFullScreenButton)&&y.standardWindowButton(NSWindowFullScreenButton).setHidden(!0),e.titleBarStyle&&"default"!==e.titleBarStyle||(y.standardWindowButton(NSWindowZoomButton).setHidden(!0),y.standardWindowButton(NSWindowMiniaturizeButton).setHidden(!0),y.standardWindowButton(NSWindowCloseButton).setHidden(!0),y.standardWindowButton(NSWindowZoomButton).setEnabled(!1))),e.vibrancy&&m.setVibrancy(e.vibrancy),m.setMaximizable(!1!==e.maximizable),y.setHidesOnDeactivate(!1!==e.hidesOnDeactivate),e.remembersWindowFrame&&(y.setFrameAutosaveName(t),y.setFrameUsingName_force(y.frameAutosaveName(),!1)),e.acceptsFirstMouse&&m.on("focus",function(e){e.type()===NSEventTypeLeftMouseDown&&m.webContents.executeJavaScript(s(C,e)).catch(()=>{})}),c.injectScript(C),u.injectScript(C),u.setupHandler(m),!1!==e.show&&m.show(),m.on("closed",function(){m._destroyed=!0,n.removeObjectForKey(t);var e=n[t+".themeObserver"];e&&(NSApplication.sharedApplication().removeObserver_forKeyPath(e,"effectiveAppearance"),n.removeObjectForKey(t+".themeObserver")),p.cleanup()}),n[t]=y,p.onCleanup(function(){m._destroyed||m.destroy()}),m}f.fromId=function(e){var t=NSThread.mainThread().threadDictionary();if(t[e])return f.fromPanel(t[e],e)},f.fromPanel=function(e,t){var n=new o;if(n.id=t,!e||!e.contentView)throw new Error("needs to pass an NSPanel");for(var a=null,s=e.contentView().subviews(),l=0;l<s.length;l+=1)a||s[l].isKindOfClass(WKInspectorWKWebView)||!s[l].isKindOfClass(WKWebView)||(a=s[l]);if(!a)throw new Error("The panel needs to have a webview");return r(n,e,a),i(n,e,a),n},e.exports=f},"./node_modules/sketch-module-web-view/lib/inject-client-messaging.js":
/*!****************************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/inject-client-messaging.js ***!
  \****************************************************************************/
/*! no static exports found */function(e,t,n){var o=n(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports=function(e){var t='window.originalPostMessage = window.postMessage;window.postMessage = function(actionName) {  if (!actionName) {    throw new Error(\'missing action name\')  }  var id = String(Math.random()).replace(".", "");    var args = [].slice.call(arguments);    args.unshift(id);  return new Promise(function (resolve, reject) {    window["'+o.JS_BRIDGE_RESULT_SUCCESS+'" + id] = resolve;    window["'+o.JS_BRIDGE_RESULT_ERROR+'" + id] = reject;    window.webkit.messageHandlers.'+o.JS_BRIDGE+".postMessage(JSON.stringify(args));  });}",n=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);e.configuration().userContentController().addUserScript(n)}},"./node_modules/sketch-module-web-view/lib/movable-area.js":
/*!*****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/movable-area.js ***!
  \*****************************************************************/
/*! no static exports found */function(e,t,n){(function(t,o){var r=n(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports.injectScript=function(e){var t='(function () {document.addEventListener(\'mousedown\', onMouseDown);function shouldDrag(target) {  if (!target || (target.dataset || {}).appRegion === "no-drag") { return false }  if ((target.dataset || {}).appRegion === "drag") { return true }  return shouldDrag(target.parentElement)};function onMouseDown(e) {  if (e.button !== 0 || !shouldDrag(e.target)) { return }  window.postMessage("'+r.START_MOVING_WINDOW+'");};})()',n=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);e.configuration().userContentController().addUserScript(n)},e.exports.setupHandler=function(e){var n=null,i=null,a=null;function s(){if(!i||1!==NSEvent.pressedMouseButtons())return t(a),n=null,void(i=null);var o=NSEvent.mouseLocation();e.setPosition(i.x+(o.x-n.x),i.y+(n.y-o.y),!1)}e.webContents.on(r.START_MOVING_WINDOW,function(){n=NSEvent.mouseLocation();var t=e.getPosition();i={x:t[0],y:t[1]},a=o(s,1e3/60)})}}).call(this,n(/*! ./node_modules/@skpm/timers/interval.js */"./node_modules/@skpm/timers/interval.js").clearInterval,n(/*! ./node_modules/@skpm/timers/interval.js */"./node_modules/@skpm/timers/interval.js").setInterval)},"./node_modules/sketch-module-web-view/lib/parseWebArguments.js":
/*!**********************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/parseWebArguments.js ***!
  \**********************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t=null;try{t=JSON.parse(e)}catch(e){}return t&&t.constructor&&t.constructor===Array&&0!=t.length?t:null}},"./node_modules/sketch-module-web-view/lib/set-delegates.js":
/*!******************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/set-delegates.js ***!
  \******************************************************************/
/*! no static exports found */function(e,t,n){(function(t,o){var r,i,a,s,l=n(/*! mocha-js-delegate */"./node_modules/mocha-js-delegate/index.js"),u=n(/*! ./parseWebArguments */"./node_modules/sketch-module-web-view/lib/parseWebArguments.js"),c=n(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports=function(e,n,d,f){s||(s=new l({utils:null,"observeValueForKeyPath:ofObject:change:context:":function(){this.utils.executeJavaScript("document.body.classList.remove('__skpm-"+("undefined"!=typeof MSTheme&&MSTheme.sharedTheme().isDark()?"light":"dark")+"'); document.body.classList.add('__skpm-"+("undefined"!=typeof MSTheme&&MSTheme.sharedTheme().isDark()?"dark":"light")+"')")}})),r||(r=new l({utils:null,panel:null,"windowDidResize:":function(){this.utils.emit("resize")},"windowDidMiniaturize:":function(){this.utils.emit("minimize")},"windowDidDeminiaturize:":function(){this.utils.emit("restore")},"windowDidEnterFullScreen:":function(){this.utils.emit("enter-full-screen")},"windowDidExitFullScreen:":function(){this.utils.emit("leave-full-screen")},"windowDidMove:":function(){this.utils.emit("move"),this.utils.emit("moved")},"windowShouldClose:":function(){var e=1;return this.utils.emit("close",{get defaultPrevented(){return!e},preventDefault:function(){e=0}}),e},"windowWillClose:":function(){this.utils.emit("closed")},"windowDidBecomeKey:":function(){this.utils.emit("focus",this.panel.currentEvent())},"windowDidResignKey:":function(){this.utils.emit("blur")}})),i||(i=new l({state:{wasReady:0},utils:null,"webView:didCommitNavigation:":function(e){this.utils.emit("will-navigate",{},String(String(e.URL())))},"webView:didStartProvisionalNavigation:":function(){this.utils.emit("did-start-navigation"),this.utils.emit("did-start-loading")},"webView:didReceiveServerRedirectForProvisionalNavigation:":function(){this.utils.emit("did-get-redirect-request")},"webView:didFailProvisionalNavigation:withError:":function(e,t,n){this.utils.emit("did-fail-load",n)},"webView:didFinishNavigation:":function(){0==this.state.wasReady&&(this.state.wasReady=1,this.utils.emitBrowserEvent("ready-to-show")),this.utils.emit("did-navigate"),this.utils.emit("did-frame-navigate"),this.utils.emit("did-stop-loading"),this.utils.emit("did-finish-load"),this.utils.emit("did-frame-finish-load")},"webViewWebContentProcessDidTerminate:":function(){this.utils.emit("dom-ready")}})),a||(a=new l({utils:null,"userContentController:didReceiveScriptMessage:":function(e,t){var n=this.utils.parseWebArguments(String(t.body()));n&&n[0]&&"string"==typeof n[0]&&(n[0]=String(n[0]),this.utils.emit.apply(this,n))}}));var h=s.new({utils:{executeJavaScript(e){d.evaluateJavaScript_completionHandler(e,null)}}}),m=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly("document.addEventListener('DOMContentLoaded', function() { document.body.classList.add('__skpm-"+("undefined"!=typeof MSTheme&&MSTheme.sharedTheme().isDark()?"dark":"light")+"') }, false)",0,!0);d.configuration().userContentController().addUserScript(m),NSApplication.sharedApplication().addObserver_forKeyPath_options_context(h,"effectiveAppearance",NSKeyValueChangeNewKey,null),NSThread.mainThread().threadDictionary()[e.id+".themeObserver"]=h;var p=i.new({utils:{setTitle:e.setTitle.bind(e),emitBrowserEvent(){try{e.emit.apply(e,arguments)}catch(e){if(void 0===t||!t.listenerCount||!t.listenerCount("uncaughtException"))throw console.error(e),e;t.emit("uncaughtException",e,"uncaughtException")}},emit(){try{e.webContents.emit.apply(e.webContents,arguments)}catch(e){if(void 0===t||!t.listenerCount||!t.listenerCount("uncaughtException"))throw console.error(e),e;t.emit("uncaughtException",e,"uncaughtException")}}},state:{wasReady:0}});d.setNavigationDelegate(p);var S=a.new({utils:{emit(t,n){if(n){for(var r=[],i=2;i<arguments.length;i+=1)r.push(arguments[i]);var a=e.webContents.listeners(n);o.all(a.map(function(e){return o.resolve().then(function(){return e.apply(e,r)})})).then(function(e){d.evaluateJavaScript_completionHandler(c.JS_BRIDGE_RESULT_SUCCESS+t+"("+JSON.stringify(e)+")",null)}).catch(function(e){d.evaluateJavaScript_completionHandler(c.JS_BRIDGE_RESULT_ERROR+t+"("+JSON.stringify(e)+")",null)})}else d.evaluateJavaScript_completionHandler(c.JS_BRIDGE_RESULT_SUCCESS+t+"()",null)},parseWebArguments:u}});d.configuration().userContentController().addScriptMessageHandler_name(S,c.JS_BRIDGE);var g,v={emit(){try{e.emit.apply(e,arguments)}catch(e){if(void 0===t||!t.listenerCount||!t.listenerCount("uncaughtException"))throw console.error(e),e;t.emit("uncaughtException",e,"uncaughtException")}}};f.modal&&((g="Document"===f.parent.type?f.parent.sketchObject:f.parent)&&"MSDocumentData"===String(g.class())&&(g=g.delegate()),v.parentWindow=g.windowForSheet());var b=r.new({utils:v,panel:n});n.setDelegate(b)}}).call(this,n(/*! ./../../process/browser.js */"./node_modules/process/browser.js"),n(/*! ./node_modules/promise-polyfill/lib/index.js */"./node_modules/promise-polyfill/lib/index.js"))},"./node_modules/sketch-module-web-view/lib/webview-api.js":
/*!****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/webview-api.js ***!
  \****************************************************************/
/*! no static exports found */function(e,t,n){var o=n(/*! events */"events"),r=n(/*! ./execute-javascript */"./node_modules/sketch-module-web-view/lib/execute-javascript.js");e.exports=function(e,t,n){var i=new o;i.loadURL=e.loadURL,i.loadFile=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},i.downloadURL=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},i.getURL=function(){return String(n.url())},i.getTitle=function(){return String(n.title())},i.isDestroyed=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},i.focus=e.focus,i.isFocused=e.isFocused,i.isLoading=function(){return!!n.loading()},i.isLoadingMainFrame=function(){return!!n.loading()},i.isWaitingForResponse=function(){return!n.loading()},i.stop=function(){n.stopLoading()},i.reload=function(){n.reload()},i.reloadIgnoringCache=function(){n.reloadFromOrigin()},i.canGoBack=function(){return!!n.canGoBack()},i.canGoForward=function(){return!!n.canGoForward()},i.canGoToOffset=function(e){return!!n.backForwardList().itemAtIndex(e)},i.clearHistory=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},i.goBack=function(){n.goBack()},i.goForward=function(){n.goForward()},i.goToIndex=function(e){var t=n.backForwardList(),o=t.backList(),r=o.count();if(r>e)n.loadRequest(NSURLRequest.requestWithURL(o[e]));else{var i=t.forwardList();if(!(i.count()>e-r))throw new Error("Cannot go to index "+e);n.loadRequest(NSURLRequest.requestWithURL(i[e-r]))}},i.goToOffset=function(e){if(!i.canGoToOffset(e))throw new Error("Cannot go to offset "+e);n.loadRequest(NSURLRequest.requestWithURL(n.backForwardList().itemAtIndex(e)))},i.isCrashed=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},i.setUserAgent=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},i.getUserAgent=function(){const e=n.customUserAgent();return e?String(e):void 0},i.insertCSS=function(e){var t="var style = document.createElement('style'); style.innerHTML = "+e.replace(/"/,'\\"')+"; document.head.appendChild(style);",o=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);n.configuration().userContentController().addUserScript(o)},i.insertJS=function(e){var t=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(e,0,!0);n.configuration().userContentController().addUserScript(t)},i.executeJavaScript=r(n,e),i.setIgnoreMenuShortcuts=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},i.setAudioMuted=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},i.isAudioMuted=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},i.setZoomFactor=function(e){n.setMagnification_centeredAtPoint(e,CGPointMake(0,0))},i.getZoomFactor=function(e){e(Number(n.magnification()))},i.setZoomLevel=function(e){i.setZoomFactor(Math.pow(1.2,e))},i.getZoomLevel=function(e){e(Math.log(Number(n.magnification()))/Math.log(1.2))},i.setVisualZoomLevelLimits=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},i.setLayoutZoomLevelLimits=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},i.send=function(){const e="window.postMessage({isSketchMessage: true,origin: '"+String(__command.identifier())+"',args: "+JSON.stringify([].slice.call(arguments))+'}, "*")';n.evaluateJavaScript_completionHandler(e,null)},i.getNativeWebview=function(){return n},e.webContents=i}},"./src/sketch/colorblind.js":
/*!**********************************!*\
  !*** ./src/sketch/colorblind.js ***!
  \**********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! sketch */"sketch"),r=n.n(o),i=n(/*! sketch-module-web-view */"./node_modules/sketch-module-web-view/lib/index.js"),a=n.n(i),s=n(/*! ./utilities */"./src/sketch/utilities/index.js");t.default=function(){var e=s.loadAllSettings(),t=r.a.getSelectedDocument(),o=s.getArtboardNames(t),i=s.getSelectedArtboard(t);if(o.length<=0)s.showToast("You need at least one artboard to run the colorblind simulation.");else if(!i&&t.selectedLayers.layers.length>0)s.showToast("The colorblind simulation can only be run on artboards.");else{var l=new a.a({identifier:"stark.colorblind",frame:!1,height:597,width:610,resizable:!1,alwaysOnTop:!0,title:"colorblind",backgroundColor:"#FFF",show:!1}),u=l.webContents,c={artboardNames:o,subscription:e};l.once("ready-to-show",function(){l.show()}),u.on("did-finish-load",function(){u.executeJavaScript("prepareFirstLoad('Colorblind', '".concat(JSON.stringify(c),"')")).catch(console.error)}),u.on("colorblindDialogMounted",function(){var e=i||o[0].id,n=t.getLayerWithID(e),r=s.exportArtboard(n);c.sizeData=s.getArtboardSize(n),u.executeJavaScript("prepareFirstLoad('Colorblind', '".concat(JSON.stringify(c),"', '").concat(r,"')")).catch(console.error)}),u.on("artboardChanged",function(e){var n=JSON.parse(e),o=t.getLayerWithID(n.artboardToSim),r=s.exportArtboard(o);c.sizeData=s.getArtboardSize(o),u.executeJavaScript("prepareFirstLoad('Colorblind', '".concat(JSON.stringify(c),"', '").concat(r,"')")).catch(console.error)}),u.on("tabChange",function(e){"simulation"===JSON.parse(e).tabName?l.setSize(610,597,!1):l.setSize(400,597,!1)}),u.on("purchaseButtonClicked",function(){s.openURL(s.URL_PRICING)}),u.on("generate",function(e){var t=JSON.parse(e),n=r.a.getSelectedDocument().getLayerWithID(t.artboardToGenerate);s.generateSimulatedArtboards(n,t.selectedColorblindTypes)}),u.on("cancelButtonClicked",function(){l.close()}),l.loadURL(n(/*! ../web/ui.html */"./src/web/ui.html"))}}},"./src/sketch/utilities/color-blind-simulation.js":
/*!********************************************************!*\
  !*** ./src/sketch/utilities/color-blind-simulation.js ***!
  \********************************************************/
/*! exports provided: generateSimulatedArtboards, getArtboardNames, getSelectedArtboard, exportArtboard, getArtboardSize */function(e,t,n){"use strict";n.r(t),n.d(t,"generateSimulatedArtboards",function(){return d}),n.d(t,"getArtboardNames",function(){return f}),n.d(t,"getSelectedArtboard",function(){return h}),n.d(t,"exportArtboard",function(){return m}),n.d(t,"getArtboardSize",function(){return p});var o=n(/*! sketch */"sketch"),r=n.n(o),i=n(/*! @stark-contrast/color-utilities */"./node_modules/@stark-contrast/color-utilities/lib/index.js"),a=n(/*! ./contrast-check */"./src/sketch/utilities/contrast-check.js"),s=n(/*! ./common */"./src/sketch/utilities/common.js"),l=n(/*! sketch/dom */"sketch/dom").Style,u=function(e,t){var n=Object(i.ConvertHexToRgba)(e);return Object(i.ConvertRgbaToRgbaString)(Object(i.SimulateColorblindness)(n,t))},c=function(e,t){e.forEach(function(e){if(e.fillType===l.FillType.Color){var n=u(e.color,t);e.color=n}else e.fillType===l.FillType.Gradient&&e.gradient.stops.forEach(function(e){var n=u(e.color,t);e.color=n})})},d=function(e,t){var n=e.name,o=e.frame.x,l=[];t.forEach(function(t){var r=Object(i.GetColorblindMatrixArray)(t),s=e.duplicate();s.name="".concat(n," - ").concat(t);var d=o+s.frame.width+100;if(s.frame.x=d,o=d,s.background&&s.background.color){var f=u(s.background.color,r);Object(a.applyColorToLayer)(f,s)}l.push(s),Object(a.getChildLayers)(s,!0).forEach(function(e){if(("Shape"===e.type||"ShapePath"===e.type||"Image"===e.type||"Text"===e.type)&&(c(e.style.fills,r),c(e.style.borders,r),"Text"===e.type)){var t=e.sketchObject.textColor(),n={r:255*t.red(),g:255*t.green(),b:255*t.blue(),a:t.alpha()},o=Object(i.ConvertRgbaStringToRgba)(u(Object(i.ConvertRgbaToHex)(n),r));Object(a.applyColorToLayer)(Object(i.ConvertRgbaToHex)(o,!0,!0),e)}})}),r.a.getSelectedDocument().centerOnLayer(l[0]),Object(s.showToast)("".concat(t.length," Simulated artboard").concat(t.length>1?"s":""," generated."))},f=function(e){var t=e.selectedPage,n=h(e),o=[],r=/'/g;return t.layers.forEach(function(e){("Artboard"===e.type||"SymbolMaster"===e.type)&&o.push({id:e.id,name:e.name.replace(r,""),isSelected:n==e.id})}),o.reverse()},h=function(e){var t;return e.selectedLayers.layers.forEach(function(e){t=e.sketchObject.parentArtboard()}),t&&(t=t.objectID()),t},m=function(e){return r.a.export(e,{scales:"2",formats:"png",output:!1}).toString("base64")},p=function(e){return{width:2*e.frame.width,height:2*e.frame.height}}},"./src/sketch/utilities/common.js":
/*!****************************************!*\
  !*** ./src/sketch/utilities/common.js ***!
  \****************************************/
/*! exports provided: openURL, saveSetting, saveAllSettings, loadSetting, loadAllSettings, showToast, loadMixpanelDistinctId */function(e,t,n){"use strict";n.r(t),n.d(t,"openURL",function(){return l}),n.d(t,"saveSetting",function(){return u}),n.d(t,"saveAllSettings",function(){return c}),n.d(t,"loadSetting",function(){return d}),n.d(t,"loadAllSettings",function(){return f}),n.d(t,"showToast",function(){return h}),n.d(t,"loadMixpanelDistinctId",function(){return m});var o=n(/*! sketch/settings */"sketch/settings"),r=n.n(o),i=n(/*! sketch/ui */"sketch/ui"),a=n.n(i),s=n(/*! ./constants */"./src/sketch/utilities/constants.js"),l=function(e){var t=NSURL.URLWithString(e);NSWorkspace.sharedWorkspace().openURL(t)},u=function(e,t){r.a.setSettingForKey("com.stark.".concat(e),t)},c=function(e){u(s.SETTINGS_LICENSE,e.licenseKey),u(s.SETTINGS_STATUS,"valid"),u(s.SETTINGS_EMAIL,e.email),u(s.SETTINGS_FREQUENCY,e.frequency),u(s.SETTINGS_VERIFICATION,(new Date).getMonth())},d=function(e){return r.a.settingForKey("com.stark.".concat(e))},f=function(){return{licenseKey:d(s.SETTINGS_LICENSE),status:d(s.SETTINGS_STATUS),email:d(s.SETTINGS_EMAIL),frequency:d(s.SETTINGS_FREQUENCY),verificationDate:d(s.SETTINGS_VERIFICATION),contrastFailMessageShown:void 0===d(s.SETTINGS_CONTRASTFAILMESSAGESHOWN)||""===d(s.SETTINGS_CONTRASTFAILMESSAGESHOWN)||d(s.SETTINGS_CONTRASTFAILMESSAGESHOWN),suggestionsTriesLeft:void 0===d(s.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT)||""===d(s.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT)?4:d(s.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT)}},h=function(e){a.a.message(e)},m=function(){var e=d(s.SETTINGS_MIXPANELID);return e||(e=((new Date).getUTCMilliseconds().toString()+(new Date).getTime().toString()).toString(),u(s.SETTINGS_MIXPANELID,e)),e}},"./src/sketch/utilities/constants.js":
/*!*******************************************!*\
  !*** ./src/sketch/utilities/constants.js ***!
  \*******************************************/
/*! exports provided: SETTINGS_LICENSE, SETTINGS_STATUS, SETTINGS_EMAIL, SETTINGS_FREQUENCY, SETTINGS_VERIFICATION, SETTINGS_MIXPANELID, SETTINGS_CONTRASTFAILMESSAGESHOWN, SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT, URL_PRICING, URL_SUPPORT */function(e,t,n){"use strict";n.r(t),n.d(t,"SETTINGS_LICENSE",function(){return o}),n.d(t,"SETTINGS_STATUS",function(){return r}),n.d(t,"SETTINGS_EMAIL",function(){return i}),n.d(t,"SETTINGS_FREQUENCY",function(){return a}),n.d(t,"SETTINGS_VERIFICATION",function(){return s}),n.d(t,"SETTINGS_MIXPANELID",function(){return l}),n.d(t,"SETTINGS_CONTRASTFAILMESSAGESHOWN",function(){return u}),n.d(t,"SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT",function(){return c}),n.d(t,"URL_PRICING",function(){return d}),n.d(t,"URL_SUPPORT",function(){return f});var o="license-key",r="subscription-status",i="email",a="frequency",s="verification",l="mixpanel-unique-id",u="contrast-fail-message-shown",c="suggestions-tries-left",d="http://getstark.co/pricing",f="http://support.getstark.co/"},"./src/sketch/utilities/contrast-check.js":
/*!************************************************!*\
  !*** ./src/sketch/utilities/contrast-check.js ***!
  \************************************************/
/*! exports provided: getLayers, getChildLayers, applyColorToLayer */function(e,t,n){"use strict";n.r(t),n.d(t,"getLayers",function(){return m}),n.d(t,"getChildLayers",function(){return s}),n.d(t,"applyColorToLayer",function(){return p});var o=n(/*! @stark-contrast/color-utilities */"./node_modules/@stark-contrast/color-utilities/lib/index.js"),r=n(/*! sketch/dom */"sketch/dom").Style,i=function(e){return"Group"===e.type||"SymbolInstance"===e.type||"SymbolMaster"===e.type||"Artboard"===e.type},a=function(e){var t=[];return e.forEach(function(e){(function(e){return"Artboard"===e.type||"Shape"===e.type||"ShapePath"===e.type||"Image"===e.type||"Text"===e.type})(e)&&("Artboard"===e.type?t.push(e.background.color):"Shape"===e.type||"ShapePath"===e.type||"Image"===e.type?e.style.fills.forEach(function(e){e.fillType===r.FillType.Color&&t.push(e)}):"Text"===e.type&&t.push(e.sketchObject.textColor()))}),t},s=function(e,t){var n=[];return function e(o){i(o)&&o.layers.forEach(function(o){if(i(o))if(function(e){return"SymbolInstance"===e.type}(o)&&t){var r=o.detach({recursively:!0});e(r)}else e(o);else n.push(o)})}(e),n},l=function(e){if("Artboard"===e.type)return Object(o.ConvertHexToRgba)(e.background.color);if("Shape"===e.type||"ShapePath"===e.type||"Image"===e.type){var t=Object(o.ConvertHexToRgba)(e.style.fills[0].color);return e.style.opacity<1&&t.a<1?{errorMessage:"Either the fill or layer opacity needs to be at full opacity."}:(t.a=e.style.opacity<1?e.style.opacity:t.a,t)}if("Text"===e.type){var n=e.sketchObject.textColor();return{r:255*n.red(),g:255*n.green(),b:255*n.blue(),a:n.alpha()}}},u=function(e,t){for(var n=[e.r,e.g,e.b],o=[t.r,t.g,t.b],r=[],i=0;i<=2;i++){var a=Math.round(o[i]),s=Math.round(n[i]);r.push(Math.floor(s+(a-s)*t.a))}return{r:r[0],g:r[1],b:r[2],a:1}},c=function(e){var t=[],n=s(e);if(t=t.concat(n),n.length<2){t.push(e);var o=function(e){var t=[];return function e(n){if(n.parent&&function(e){return"Artboard"===e.type?!!e.background.color:"Shape"===e.type||"ShapePath"===e.type||"Image"===e.type?!!e.style.fills:"Text"===e.type}(n.parent))t.push(n.parent);else{if("Page"===n.parent.type)return;e(n.parent)}}(e),t}(e);t=t.concat(o)}var r=f(t);if("valid"!==r)return{errorMessage:r};var i=a(t),l=h(i);return"valid"!==l?{errorMessage:l}:{firstColor:t[1],secondColor:t[0]}},d=function(e){var t=[];i(e[0])?t=t.concat(s(e[0])):t.push(e[0]),i(e[1])?t=t.concat(s(e[1])):t.push(e[1]);var n=f(t);if("valid"!==n)return{errorMessage:n};var o=a(t),r=h(o);return"valid"!==r?{errorMessage:r}:{firstColor:t[1],secondColor:t[0]}},f=function(e){return 1===e.length?"Please select an additional layer to check against.":e.length>2?"Too many layers to check against. Try directly selecting two layers.":"valid"},h=function(e){return e.length<2?"You can only check against colors, not mixed fills, gradients or bitmaps.":e.length>2?"Make sure your layers don't have more than one fill applied.":"valid"},m=function(e){var t=function(e){var t={};switch(e.length){case 0:t.errorMessage="Please select at least one layer to run the contrast checker.";break;case 1:t=c(e[0]);break;case 2:t=d(e);break;default:t.errorMessage="You can only run the contrast checker against two layers."}return t}(e);if(t.errorMessage)return{errorMessage:t.errorMessage};var n=function(e){var t=e.secondColor,n=e.firstColor;return"Text"!==e.firstColor.type&&"Text"!==e.secondColor.type||(t="Text"===e.secondColor.type?e.firstColor:e.secondColor,n="Text"===e.secondColor.type?e.secondColor:e.firstColor),{bgLayer:t,fgLayer:n}}(t),o=l(n.bgLayer);if(o.errorMessage)return{errorMessage:o.errorMessage};var r=l(n.fgLayer);if(r.errorMessage)return{errorMessage:r.errorMessage};var i=o,a=r;!function(e,t){e.a<1&&t.a<1||e.a}(o,r),o.a<1&&(i=u(r,o)),r.a<1&&(a=u(o,r));var s="Text"===t.firstColor.type||"Text"===t.secondColor.type;return{backgroundLayer:n.bgLayer,originalBgColor:o,normalizedBgColor:i,foregroundLayer:n.fgLayer,originalFgColor:r,normalizedFgColor:a,hasText:s}},p=function(e,t){if("Text"===t.type){var n=MSImmutableColor.colorWithSVGString_(e),o=MSColor.alloc().initWithImmutableObject_(n);t.sketchObject.setTextColor(o)}else"Artboard"===t.type?(t.background.enabled=!0,t.background.color=e):t.style.fills=[{color:e,fillType:r.FillType.Color}]}},"./src/sketch/utilities/index.js":
/*!***************************************!*\
  !*** ./src/sketch/utilities/index.js ***!
  \***************************************/
/*! exports provided: openURL, saveSetting, saveAllSettings, loadSetting, loadAllSettings, showToast, loadMixpanelDistinctId, generateSimulatedArtboards, getArtboardNames, getSelectedArtboard, exportArtboard, getArtboardSize, getLayers, applyColorToLayer, SETTINGS_LICENSE, SETTINGS_STATUS, SETTINGS_EMAIL, SETTINGS_FREQUENCY, SETTINGS_VERIFICATION, SETTINGS_MIXPANELID, SETTINGS_CONTRASTFAILMESSAGESHOWN, SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT, URL_PRICING, URL_SUPPORT */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./common */"./src/sketch/utilities/common.js");n.d(t,"openURL",function(){return o.openURL}),n.d(t,"saveSetting",function(){return o.saveSetting}),n.d(t,"saveAllSettings",function(){return o.saveAllSettings}),n.d(t,"loadSetting",function(){return o.loadSetting}),n.d(t,"loadAllSettings",function(){return o.loadAllSettings}),n.d(t,"showToast",function(){return o.showToast}),n.d(t,"loadMixpanelDistinctId",function(){return o.loadMixpanelDistinctId});var r=n(/*! ./color-blind-simulation */"./src/sketch/utilities/color-blind-simulation.js");n.d(t,"generateSimulatedArtboards",function(){return r.generateSimulatedArtboards}),n.d(t,"getArtboardNames",function(){return r.getArtboardNames}),n.d(t,"getSelectedArtboard",function(){return r.getSelectedArtboard}),n.d(t,"exportArtboard",function(){return r.exportArtboard}),n.d(t,"getArtboardSize",function(){return r.getArtboardSize});var i=n(/*! ./contrast-check */"./src/sketch/utilities/contrast-check.js");n.d(t,"getLayers",function(){return i.getLayers}),n.d(t,"applyColorToLayer",function(){return i.applyColorToLayer});var a=n(/*! ./constants */"./src/sketch/utilities/constants.js");n.d(t,"SETTINGS_LICENSE",function(){return a.SETTINGS_LICENSE}),n.d(t,"SETTINGS_STATUS",function(){return a.SETTINGS_STATUS}),n.d(t,"SETTINGS_EMAIL",function(){return a.SETTINGS_EMAIL}),n.d(t,"SETTINGS_FREQUENCY",function(){return a.SETTINGS_FREQUENCY}),n.d(t,"SETTINGS_VERIFICATION",function(){return a.SETTINGS_VERIFICATION}),n.d(t,"SETTINGS_MIXPANELID",function(){return a.SETTINGS_MIXPANELID}),n.d(t,"SETTINGS_CONTRASTFAILMESSAGESHOWN",function(){return a.SETTINGS_CONTRASTFAILMESSAGESHOWN}),n.d(t,"SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT",function(){return a.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT}),n.d(t,"URL_PRICING",function(){return a.URL_PRICING}),n.d(t,"URL_SUPPORT",function(){return a.URL_SUPPORT})},"./src/web/ui.html":
/*!*************************!*\
  !*** ./src/web/ui.html ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports="file://"+context.plugin.urlForResourceNamed("_webpack_resources/382e82375e9410380a7dc4f1a8818864.html").path()},events:
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=require("events")},sketch:
/*!*************************!*\
  !*** external "sketch" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=require("sketch")},"sketch/dom":
/*!*****************************!*\
  !*** external "sketch/dom" ***!
  \*****************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/dom")},"sketch/settings":
/*!**********************************!*\
  !*** external "sketch/settings" ***!
  \**********************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/settings")},"sketch/ui":
/*!****************************!*\
  !*** external "sketch/ui" ***!
  \****************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/ui")}});"default"===key&&"function"==typeof exports?exports(context):exports[key](context)}that.onRun=__skpm_run.bind(this,"default");