var that=this;function __skpm_run(t,e){that.context=e;var r=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s="./src/sketch/gethelp.js")}({"./src/sketch/gethelp.js":
/*!*******************************!*\
  !*** ./src/sketch/gethelp.js ***!
  \*******************************/
/*! exports provided: default */function(t,e,r){"use strict";r.r(e);var n=r(/*! ./utilities */"./src/sketch/utilities/index.js");e.default=function(){n.openURL(n.URL_SUPPORT)}},"./src/sketch/utilities/color-blind-simulation.js":
/*!********************************************************!*\
  !*** ./src/sketch/utilities/color-blind-simulation.js ***!
  \********************************************************/
/*! exports provided: getArtboardNames, getSelectedArtboard, exportArtboard, getArtboardSize */function(t,e,r){"use strict";r.r(e),r.d(e,"getArtboardNames",function(){return i}),r.d(e,"getSelectedArtboard",function(){return a}),r.d(e,"exportArtboard",function(){return s}),r.d(e,"getArtboardSize",function(){return c});var n=r(/*! sketch */"sketch"),o=r.n(n),i=function(t){var e=t.selectedPage,r=a(t),n=[],o=/'/g;return e.layers.forEach(function(t){("Artboard"===t.type||"SymbolMaster"===t.type)&&n.push({id:t.id,name:t.name.replace(o,"â€™"),isSelected:r==t.id})}),n.reverse()},a=function(t){var e;return t.selectedLayers.layers.forEach(function(t){e=t.sketchObject.parentArtboard()}),e&&(e=e.objectID()),e},s=function(t){return o.a.export(t,{scales:"2",formats:"png",output:!1}).toString("base64")},c=function(t){return{width:2*t.frame.width,height:2*t.frame.height}}},"./src/sketch/utilities/common.js":
/*!****************************************!*\
  !*** ./src/sketch/utilities/common.js ***!
  \****************************************/
/*! exports provided: openURL, saveSetting, saveAllSettings, loadSetting, loadAllSettings, showToast, loadMixpanelDistinctId */function(t,e,r){"use strict";r.r(e),r.d(e,"openURL",function(){return c}),r.d(e,"saveSetting",function(){return u}),r.d(e,"saveAllSettings",function(){return l}),r.d(e,"loadSetting",function(){return S}),r.d(e,"loadAllSettings",function(){return f}),r.d(e,"showToast",function(){return T}),r.d(e,"loadMixpanelDistinctId",function(){return d});var n=r(/*! sketch/settings */"sketch/settings"),o=r.n(n),i=r(/*! sketch/ui */"sketch/ui"),a=r.n(i),s=r(/*! ./constants */"./src/sketch/utilities/constants.js"),c=function(t){var e=NSURL.URLWithString(t);NSWorkspace.sharedWorkspace().openURL(e)},u=function(t,e){o.a.setSettingForKey("com.stark.".concat(t),e)},l=function(t){u(s.SETTINGS_LICENSE,t.licenseKey),u(s.SETTINGS_STATUS,"valid"),u(s.SETTINGS_EMAIL,t.email),u(s.SETTINGS_FREQUENCY,t.frequency),u(s.SETTINGS_VERIFICATION,(new Date).getMonth())},S=function(t){return o.a.settingForKey("com.stark.".concat(t))},f=function(){return{licenseKey:S(s.SETTINGS_LICENSE),status:S(s.SETTINGS_STATUS),email:S(s.SETTINGS_EMAIL),frequency:S(s.SETTINGS_FREQUENCY),verificationDate:S(s.SETTINGS_VERIFICATION),contrastFailMessageShown:void 0===S(s.SETTINGS_CONTRASTFAILMESSAGESHOWN)||""===S(s.SETTINGS_CONTRASTFAILMESSAGESHOWN)||S(s.SETTINGS_CONTRASTFAILMESSAGESHOWN),suggestionsTriesLeft:void 0===S(s.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT)||""===S(s.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT)?4:S(s.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT)}},T=function(t){a.a.message(t)},d=function(){var t=S(s.SETTINGS_MIXPANELID);return t||(t=((new Date).getUTCMilliseconds().toString()+(new Date).getTime().toString()).toString(),u(s.SETTINGS_MIXPANELID,t)),t}},"./src/sketch/utilities/constants.js":
/*!*******************************************!*\
  !*** ./src/sketch/utilities/constants.js ***!
  \*******************************************/
/*! exports provided: SETTINGS_LICENSE, SETTINGS_STATUS, SETTINGS_EMAIL, SETTINGS_FREQUENCY, SETTINGS_VERIFICATION, SETTINGS_MIXPANELID, SETTINGS_CONTRASTFAILMESSAGESHOWN, SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT, URL_PRICING, URL_SUPPORT */function(t,e,r){"use strict";r.r(e),r.d(e,"SETTINGS_LICENSE",function(){return n}),r.d(e,"SETTINGS_STATUS",function(){return o}),r.d(e,"SETTINGS_EMAIL",function(){return i}),r.d(e,"SETTINGS_FREQUENCY",function(){return a}),r.d(e,"SETTINGS_VERIFICATION",function(){return s}),r.d(e,"SETTINGS_MIXPANELID",function(){return c}),r.d(e,"SETTINGS_CONTRASTFAILMESSAGESHOWN",function(){return u}),r.d(e,"SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT",function(){return l}),r.d(e,"URL_PRICING",function(){return S}),r.d(e,"URL_SUPPORT",function(){return f});var n="license-key",o="subscription-status",i="email",a="frequency",s="verification",c="mixpanel-unique-id",u="contrast-fail-message-shown",l="suggestions-tries-left",S="http://getstark.co/pricing",f="http://support.getstark.co/"},"./src/sketch/utilities/contrast-check.js":
/*!************************************************!*\
  !*** ./src/sketch/utilities/contrast-check.js ***!
  \************************************************/
/*! exports provided: getLayers, convertRGBtoHex, applyColorToLayer */function(t,e,r){"use strict";r.r(e),r.d(e,"getLayers",function(){return d}),r.d(e,"convertRGBtoHex",function(){return p}),r.d(e,"applyColorToLayer",function(){return g});var n=r(/*! sketch/dom */"sketch/dom").Style,o=function(t){return"Group"===t.type||"SymbolInstance"===t.type||"SymbolMaster"===t.type||"Artboard"===t.type},i=function(t){var e=[];return t.forEach(function(t){(function(t){return"Artboard"===t.type||"Shape"===t.type||"ShapePath"===t.type||"Image"===t.type||"Text"===t.type})(t)&&("Artboard"===t.type?e.push(t.background.color):"Shape"===t.type||"ShapePath"===t.type||"Image"===t.type?t.style.fills.forEach(function(t){t.fillType===n.FillType.Color&&e.push(t)}):"Text"===t.type&&e.push(t.sketchObject.textColor()))}),e},a=function(t){var e=[];return function t(r){o(r)&&r.layers.forEach(function(r){o(r)?t(r):e.push(r)})}(t),e},s=function(t){return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},c=function(t){if("Artboard"===t.type)return s(t.background.color);if("Shape"===t.type||"ShapePath"===t.type||"Image"===t.type){var e=s(t.style.fills[0].color);return t.style.opacity<1&&e.a<1?{errorMessage:"Either the fill or layer opacity needs to be at full opacity."}:(e.a=t.style.opacity<1?t.style.opacity:e.a,e)}if("Text"===t.type){var r=t.sketchObject.textColor();return{r:255*r.red(),g:255*r.green(),b:255*r.blue(),a:r.alpha()}}},u=function(t,e){for(var r=[t.r,t.g,t.b],n=[e.r,e.g,e.b],o=[],i=0;i<=2;i++){var a=Math.round(n[i]),s=Math.round(r[i]);o.push(Math.floor(s+(a-s)*e.a))}return{r:o[0],g:o[1],b:o[2],a:1}},l=function(t){var e=[],r=a(t);if(e=e.concat(r),r.length<2){e.push(t);var n=function(t){var e=[];return function t(r){if(r.parent&&function(t){return"Artboard"===t.type?!!t.background.color:"Shape"===t.type||"ShapePath"===t.type||"Image"===t.type?!!t.style.fills:"Text"===t.type}(r.parent))e.push(r.parent);else{if("Page"===r.parent.type)return;t(r.parent)}}(t),e}(t);e=e.concat(n)}var o=f(e);if("valid"!==o)return{errorMessage:o};var s=i(e),c=T(s);return"valid"!==c?{errorMessage:c}:{firstColor:e[1],secondColor:e[0]}},S=function(t){var e=[];o(t[0])?e=e.concat(a(t[0])):e.push(t[0]),o(t[1])?e=e.concat(a(t[1])):e.push(t[1]);var r=f(e);if("valid"!==r)return{errorMessage:r};var n=i(e),s=T(n);return"valid"!==s?{errorMessage:s}:{firstColor:e[1],secondColor:e[0]}},f=function(t){return 1===t.length?"Please select an additional layer to check against.":t.length>2?"Too many layers to check against. Try directly selecting two layers.":"valid"},T=function(t){return t.length<2?"You can only check against colors, not mixed fills, gradients or bitmaps.":t.length>2?"Make sure your layers don't have more than one fill applied.":"valid"},d=function(t){var e=function(t){var e={};switch(t.length){case 0:e.errorMessage="Please select at least one layer to run the contrast checker.";break;case 1:e=l(t[0]);break;case 2:e=S(t);break;default:e.errorMessage="You can only run the contrast checker against two layers."}return e}(t);if(e.errorMessage)return{errorMessage:e.errorMessage};var r=function(t){var e=t.secondColor,r=t.firstColor;return"Text"!==t.firstColor.type&&"Text"!==t.secondColor.type||(e="Text"===t.secondColor.type?t.firstColor:t.secondColor,r="Text"===t.secondColor.type?t.secondColor:t.firstColor),{bgLayer:e,fgLayer:r}}(e),n=c(r.bgLayer);if(n.errorMessage)return{errorMessage:n.errorMessage};var o=c(r.fgLayer);if(o.errorMessage)return{errorMessage:o.errorMessage};var i=n,a=o;!function(t,e){t.a<1&&e.a<1||t.a}(n,o),n.a<1&&(i=u(o,n)),o.a<1&&(a=u(n,o));var s="Text"===e.firstColor.type||"Text"===e.secondColor.type;return{backgroundLayer:r.bgLayer,originalBgColor:n,normalizedBgColor:i,foregroundLayer:r.fgLayer,originalFgColor:o,normalizedFgColor:a,hasText:s}},p=function(t){var e=t.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),r=(e&&e[4]||"").trim(),n=e?(256|e[1]).toString(16).slice(1)+(256|e[2]).toString(16).slice(1)+(256|e[3]).toString(16).slice(1):t;return n+=(255*(""!==r?r:1)|256).toString(16).slice(1)},g=function(t,e){if("Text"===e.type){var r=MSImmutableColor.colorWithSVGString_(t),o=MSColor.alloc().initWithImmutableObject_(r);e.sketchObject.setTextColor(o)}else"Artboard"===e.type?(e.background.enabled=!0,e.background.color=t):e.style.fills=[{color:t,fillType:n.FillType.Color}]}},"./src/sketch/utilities/index.js":
/*!***************************************!*\
  !*** ./src/sketch/utilities/index.js ***!
  \***************************************/
/*! exports provided: openURL, saveSetting, saveAllSettings, loadSetting, loadAllSettings, showToast, loadMixpanelDistinctId, getArtboardNames, getSelectedArtboard, exportArtboard, getArtboardSize, getLayers, convertRGBtoHex, applyColorToLayer, SETTINGS_LICENSE, SETTINGS_STATUS, SETTINGS_EMAIL, SETTINGS_FREQUENCY, SETTINGS_VERIFICATION, SETTINGS_MIXPANELID, SETTINGS_CONTRASTFAILMESSAGESHOWN, SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT, URL_PRICING, URL_SUPPORT */function(t,e,r){"use strict";r.r(e);var n=r(/*! ./common */"./src/sketch/utilities/common.js");r.d(e,"openURL",function(){return n.openURL}),r.d(e,"saveSetting",function(){return n.saveSetting}),r.d(e,"saveAllSettings",function(){return n.saveAllSettings}),r.d(e,"loadSetting",function(){return n.loadSetting}),r.d(e,"loadAllSettings",function(){return n.loadAllSettings}),r.d(e,"showToast",function(){return n.showToast}),r.d(e,"loadMixpanelDistinctId",function(){return n.loadMixpanelDistinctId});var o=r(/*! ./color-blind-simulation */"./src/sketch/utilities/color-blind-simulation.js");r.d(e,"getArtboardNames",function(){return o.getArtboardNames}),r.d(e,"getSelectedArtboard",function(){return o.getSelectedArtboard}),r.d(e,"exportArtboard",function(){return o.exportArtboard}),r.d(e,"getArtboardSize",function(){return o.getArtboardSize});var i=r(/*! ./contrast-check */"./src/sketch/utilities/contrast-check.js");r.d(e,"getLayers",function(){return i.getLayers}),r.d(e,"convertRGBtoHex",function(){return i.convertRGBtoHex}),r.d(e,"applyColorToLayer",function(){return i.applyColorToLayer});var a=r(/*! ./constants */"./src/sketch/utilities/constants.js");r.d(e,"SETTINGS_LICENSE",function(){return a.SETTINGS_LICENSE}),r.d(e,"SETTINGS_STATUS",function(){return a.SETTINGS_STATUS}),r.d(e,"SETTINGS_EMAIL",function(){return a.SETTINGS_EMAIL}),r.d(e,"SETTINGS_FREQUENCY",function(){return a.SETTINGS_FREQUENCY}),r.d(e,"SETTINGS_VERIFICATION",function(){return a.SETTINGS_VERIFICATION}),r.d(e,"SETTINGS_MIXPANELID",function(){return a.SETTINGS_MIXPANELID}),r.d(e,"SETTINGS_CONTRASTFAILMESSAGESHOWN",function(){return a.SETTINGS_CONTRASTFAILMESSAGESHOWN}),r.d(e,"SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT",function(){return a.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT}),r.d(e,"URL_PRICING",function(){return a.URL_PRICING}),r.d(e,"URL_SUPPORT",function(){return a.URL_SUPPORT})},sketch:
/*!*************************!*\
  !*** external "sketch" ***!
  \*************************/
/*! no static exports found */function(t,e){t.exports=require("sketch")},"sketch/dom":
/*!*****************************!*\
  !*** external "sketch/dom" ***!
  \*****************************/
/*! no static exports found */function(t,e){t.exports=require("sketch/dom")},"sketch/settings":
/*!**********************************!*\
  !*** external "sketch/settings" ***!
  \**********************************/
/*! no static exports found */function(t,e){t.exports=require("sketch/settings")},"sketch/ui":
/*!****************************!*\
  !*** external "sketch/ui" ***!
  \****************************/
/*! no static exports found */function(t,e){t.exports=require("sketch/ui")}});"default"===t&&"function"==typeof r?r(e):r[t](e)}that.onRun=__skpm_run.bind(this,"default");