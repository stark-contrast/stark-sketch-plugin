var that=this;function __skpm_run(t,e){that.context=e;var r=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s="./src/sketch/gethelp.js")}({"./src/sketch/gethelp.js":
/*!*******************************!*\
  !*** ./src/sketch/gethelp.js ***!
  \*******************************/
/*! exports provided: default */function(t,e,r){"use strict";r.r(e);var n=r(/*! ./utilities */"./src/sketch/utilities/index.js");e.default=function(){n.openURL(n.URL_SUPPORT)}},"./src/sketch/utilities/color-blind-simulation.js":
/*!********************************************************!*\
  !*** ./src/sketch/utilities/color-blind-simulation.js ***!
  \********************************************************/
/*! exports provided: generateSimulatedArtboards, getArtboardNames, getSelectedArtboard, exportArtboard, getArtboardSize */function(t,e,r){"use strict";r.r(e),r.d(e,"generateSimulatedArtboards",function(){return u}),r.d(e,"getArtboardNames",function(){return l}),r.d(e,"getSelectedArtboard",function(){return S}),r.d(e,"exportArtboard",function(){return f}),r.d(e,"getArtboardSize",function(){return d});var n=r(/*! sketch */"sketch"),o=r.n(n),a=r(/*! ./contrast-check */"./src/sketch/utilities/contrast-check.js"),c=r(/*! sketch/dom */"sketch/dom").Style,i=function(t,e){function r(t){return t<0?0:t<255?t:255}var n=t.R*e[0]+t.G*e[1]+t.B*e[2]+t.A*e[3]+e[4],o=t.R*e[5]+t.G*e[6]+t.B*e[7]+t.A*e[8]+e[9],a=t.R*e[10]+t.G*e[11]+t.B*e[12]+t.A*e[13]+e[14],c=t.R*e[15]+t.G*e[16]+t.B*e[17]+t.A*e[18]+e[19];return{R:r(n),G:r(o),B:r(a),A:r(c)}},s=function(t){return{Original:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],Protanopia:[.567,.433,0,0,0,.558,.442,0,0,0,0,.242,.758,0,0,0,0,0,1,0],Protanomaly:[.817,.183,0,0,0,.333,.667,0,0,0,0,.125,.875,0,0,0,0,0,1,0],Deuteranopia:[.625,.375,0,0,0,.7,.3,0,0,0,0,.3,.7,0,0,0,0,0,1,0],Deuteranomaly:[.8,.2,0,0,0,.258,.742,0,0,0,0,.142,.858,0,0,0,0,0,1,0],Tritanopia:[.95,.05,0,0,0,0,.433,.567,0,0,0,.475,.525,0,0,0,0,0,1,0],Tritanomaly:[.967,.033,0,0,0,0,.733,.267,0,0,0,.183,.817,0,0,0,0,0,1,0],Achromatopsia:[.299,.587,.114,0,0,.299,.587,.114,0,0,.299,.587,.114,0,0,0,0,0,1,0],Achromatomaly:[.618,.32,.062,0,0,.163,.775,.062,0,0,.163,.32,.516,0,0,0,0,0,1,0]}[t]},u=function(t,e){var r=t.name,n=t.frame.x,o=[];e.forEach(function(e){var u=t.duplicate();u.name="".concat(r," - ").concat(e);var l=n+u.frame.width+100;if(u.frame.x=l,n=l,u.background&&u.background.color){console.log("we here");var S=Object(a.convertHexToRGB)(u.background.color),f={R:S.r,G:S.g,B:S.b,A:S.a},d=i(f,s(e)),T="rgba(".concat(Math.round(d.R),",").concat(Math.round(d.G),",").concat(Math.round(d.B),",").concat(d.A,")");Object(a.applyColorToLayer)("#".concat(Object(a.convertRGBtoHex)(T)),u)}o.push(u),Object(a.getChildLayers)(u,!0).forEach(function(t){var r;if("Artboard"===t.type){var n=Object(a.convertHexToRGB)(t.background.color);r={R:n.r,G:n.g,B:n.b,A:n.a};var o=i(r,s(e)),u="rgba(".concat(Math.round(o.R),",").concat(Math.round(o.G),",").concat(Math.round(o.B),",").concat(o.A,")");Object(a.applyColorToLayer)("#".concat(Object(a.convertRGBtoHex)(u)),t)}else if("Shape"===t.type||"ShapePath"===t.type||"Image"===t.type||"Text"===t.type){if(t.style.fills.forEach(function(n){if(n.fillType===c.FillType.Color){var o=Object(a.convertHexToRGB)(n.color);o.a=t.style.opacity<1?t.style.opacity:o.a,r={R:o.r,G:o.g,B:o.b,A:o.a};var u=i(r,s(e)),l="rgba(".concat(Math.round(u.R),",").concat(Math.round(u.G),",").concat(Math.round(u.B),",").concat(u.A,")");n.color=l}else n.fillType===c.FillType.Gradient&&n.gradient.stops.forEach(function(n){var o=Object(a.convertHexToRGB)(n.color);o.a=t.style.opacity<1?t.style.opacity:o.a,r={R:o.r,G:o.g,B:o.b,A:o.a};var c=i(r,s(e)),u="rgba(".concat(Math.round(c.R),",").concat(Math.round(c.G),",").concat(Math.round(c.B),",").concat(c.A,")");n.color=u})}),0!==t.style.fills.length&&t.style.fills[0].fillType===c.FillType.Color){var l=Object(a.convertHexToRGB)(t.style.fills[0].color);l.a=t.style.opacity<1?t.style.opacity:l.a,r={R:l.r,G:l.g,B:l.b,A:l.a}}if("Text"===t.type){var S=t.sketchObject.textColor();r={R:255*S.red(),G:255*S.green(),B:255*S.blue(),A:S.alpha()};var f=i(r,s(e)),d="rgba(".concat(Math.round(f.R),",").concat(Math.round(f.G),",").concat(Math.round(f.B),",").concat(f.A,")");Object(a.applyColorToLayer)("#".concat(Object(a.convertRGBtoHex)(d)),t)}}})})},l=function(t){var e=t.selectedPage,r=S(t),n=[],o=/'/g;return e.layers.forEach(function(t){("Artboard"===t.type||"SymbolMaster"===t.type)&&n.push({id:t.id,name:t.name.replace(o,"â€™"),isSelected:r==t.id})}),n.reverse()},S=function(t){var e;return t.selectedLayers.layers.forEach(function(t){e=t.sketchObject.parentArtboard()}),e&&(e=e.objectID()),e},f=function(t){return o.a.export(t,{scales:"2",formats:"png",output:!1}).toString("base64")},d=function(t){return{width:2*t.frame.width,height:2*t.frame.height}}},"./src/sketch/utilities/common.js":
/*!****************************************!*\
  !*** ./src/sketch/utilities/common.js ***!
  \****************************************/
/*! exports provided: openURL, saveSetting, saveAllSettings, loadSetting, loadAllSettings, showToast, loadMixpanelDistinctId */function(t,e,r){"use strict";r.r(e),r.d(e,"openURL",function(){return s}),r.d(e,"saveSetting",function(){return u}),r.d(e,"saveAllSettings",function(){return l}),r.d(e,"loadSetting",function(){return S}),r.d(e,"loadAllSettings",function(){return f}),r.d(e,"showToast",function(){return d}),r.d(e,"loadMixpanelDistinctId",function(){return T});var n=r(/*! sketch/settings */"sketch/settings"),o=r.n(n),a=r(/*! sketch/ui */"sketch/ui"),c=r.n(a),i=r(/*! ./constants */"./src/sketch/utilities/constants.js"),s=function(t){var e=NSURL.URLWithString(t);NSWorkspace.sharedWorkspace().openURL(e)},u=function(t,e){o.a.setSettingForKey("com.stark.".concat(t),e)},l=function(t){u(i.SETTINGS_LICENSE,t.licenseKey),u(i.SETTINGS_STATUS,"valid"),u(i.SETTINGS_EMAIL,t.email),u(i.SETTINGS_FREQUENCY,t.frequency),u(i.SETTINGS_VERIFICATION,(new Date).getMonth())},S=function(t){return o.a.settingForKey("com.stark.".concat(t))},f=function(){return{licenseKey:S(i.SETTINGS_LICENSE),status:S(i.SETTINGS_STATUS),email:S(i.SETTINGS_EMAIL),frequency:S(i.SETTINGS_FREQUENCY),verificationDate:S(i.SETTINGS_VERIFICATION),contrastFailMessageShown:void 0===S(i.SETTINGS_CONTRASTFAILMESSAGESHOWN)||""===S(i.SETTINGS_CONTRASTFAILMESSAGESHOWN)||S(i.SETTINGS_CONTRASTFAILMESSAGESHOWN),suggestionsTriesLeft:void 0===S(i.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT)||""===S(i.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT)?4:S(i.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT)}},d=function(t){c.a.message(t)},T=function(){var t=S(i.SETTINGS_MIXPANELID);return t||(t=((new Date).getUTCMilliseconds().toString()+(new Date).getTime().toString()).toString(),u(i.SETTINGS_MIXPANELID,t)),t}},"./src/sketch/utilities/constants.js":
/*!*******************************************!*\
  !*** ./src/sketch/utilities/constants.js ***!
  \*******************************************/
/*! exports provided: SETTINGS_LICENSE, SETTINGS_STATUS, SETTINGS_EMAIL, SETTINGS_FREQUENCY, SETTINGS_VERIFICATION, SETTINGS_MIXPANELID, SETTINGS_CONTRASTFAILMESSAGESHOWN, SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT, URL_PRICING, URL_SUPPORT */function(t,e,r){"use strict";r.r(e),r.d(e,"SETTINGS_LICENSE",function(){return n}),r.d(e,"SETTINGS_STATUS",function(){return o}),r.d(e,"SETTINGS_EMAIL",function(){return a}),r.d(e,"SETTINGS_FREQUENCY",function(){return c}),r.d(e,"SETTINGS_VERIFICATION",function(){return i}),r.d(e,"SETTINGS_MIXPANELID",function(){return s}),r.d(e,"SETTINGS_CONTRASTFAILMESSAGESHOWN",function(){return u}),r.d(e,"SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT",function(){return l}),r.d(e,"URL_PRICING",function(){return S}),r.d(e,"URL_SUPPORT",function(){return f});var n="license-key",o="subscription-status",a="email",c="frequency",i="verification",s="mixpanel-unique-id",u="contrast-fail-message-shown",l="suggestions-tries-left",S="http://getstark.co/pricing",f="http://support.getstark.co/"},"./src/sketch/utilities/contrast-check.js":
/*!************************************************!*\
  !*** ./src/sketch/utilities/contrast-check.js ***!
  \************************************************/
/*! exports provided: getLayers, getChildLayers, convertHexToRGB, convertRGBtoHex, applyColorToLayer */function(t,e,r){"use strict";r.r(e),r.d(e,"getLayers",function(){return T}),r.d(e,"getChildLayers",function(){return c}),r.d(e,"convertHexToRGB",function(){return i}),r.d(e,"convertRGBtoHex",function(){return p}),r.d(e,"applyColorToLayer",function(){return y});var n=r(/*! sketch/dom */"sketch/dom").Style,o=function(t){return"Group"===t.type||"SymbolInstance"===t.type||"SymbolMaster"===t.type||"Artboard"===t.type},a=function(t){var e=[];return t.forEach(function(t){(function(t){return"Artboard"===t.type||"Shape"===t.type||"ShapePath"===t.type||"Image"===t.type||"Text"===t.type})(t)&&("Artboard"===t.type?e.push(t.background.color):"Shape"===t.type||"ShapePath"===t.type||"Image"===t.type?t.style.fills.forEach(function(t){t.fillType===n.FillType.Color&&e.push(t)}):"Text"===t.type&&e.push(t.sketchObject.textColor()))}),e},c=function(t,e){var r=[];return function t(n){o(n)&&n.layers.forEach(function(n){if(o(n))if(function(t){return"SymbolInstance"===t.type}(n)&&e){var a=n.detach({recursively:!0});t(a)}else t(n);else r.push(n)})}(t),r},i=function(t){return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},s=function(t){if("Artboard"===t.type)return i(t.background.color);if("Shape"===t.type||"ShapePath"===t.type||"Image"===t.type){var e=i(t.style.fills[0].color);return t.style.opacity<1&&e.a<1?{errorMessage:"Either the fill or layer opacity needs to be at full opacity."}:(e.a=t.style.opacity<1?t.style.opacity:e.a,e)}if("Text"===t.type){var r=t.sketchObject.textColor();return{r:255*r.red(),g:255*r.green(),b:255*r.blue(),a:r.alpha()}}},u=function(t,e){for(var r=[t.r,t.g,t.b],n=[e.r,e.g,e.b],o=[],a=0;a<=2;a++){var c=Math.round(n[a]),i=Math.round(r[a]);o.push(Math.floor(i+(c-i)*e.a))}return{r:o[0],g:o[1],b:o[2],a:1}},l=function(t){var e=[],r=c(t);if(e=e.concat(r),r.length<2){e.push(t);var n=function(t){var e=[];return function t(r){if(r.parent&&function(t){return"Artboard"===t.type?!!t.background.color:"Shape"===t.type||"ShapePath"===t.type||"Image"===t.type?!!t.style.fills:"Text"===t.type}(r.parent))e.push(r.parent);else{if("Page"===r.parent.type)return;t(r.parent)}}(t),e}(t);e=e.concat(n)}var o=f(e);if("valid"!==o)return{errorMessage:o};var i=a(e),s=d(i);return"valid"!==s?{errorMessage:s}:{firstColor:e[1],secondColor:e[0]}},S=function(t){var e=[];o(t[0])?e=e.concat(c(t[0])):e.push(t[0]),o(t[1])?e=e.concat(c(t[1])):e.push(t[1]);var r=f(e);if("valid"!==r)return{errorMessage:r};var n=a(e),i=d(n);return"valid"!==i?{errorMessage:i}:{firstColor:e[1],secondColor:e[0]}},f=function(t){return 1===t.length?"Please select an additional layer to check against.":t.length>2?"Too many layers to check against. Try directly selecting two layers.":"valid"},d=function(t){return t.length<2?"You can only check against colors, not mixed fills, gradients or bitmaps.":t.length>2?"Make sure your layers don't have more than one fill applied.":"valid"},T=function(t){var e=function(t){var e={};switch(t.length){case 0:e.errorMessage="Please select at least one layer to run the contrast checker.";break;case 1:e=l(t[0]);break;case 2:e=S(t);break;default:e.errorMessage="You can only run the contrast checker against two layers."}return e}(t);if(e.errorMessage)return{errorMessage:e.errorMessage};var r=function(t){var e=t.secondColor,r=t.firstColor;return"Text"!==t.firstColor.type&&"Text"!==t.secondColor.type||(e="Text"===t.secondColor.type?t.firstColor:t.secondColor,r="Text"===t.secondColor.type?t.secondColor:t.firstColor),{bgLayer:e,fgLayer:r}}(e),n=s(r.bgLayer);if(n.errorMessage)return{errorMessage:n.errorMessage};var o=s(r.fgLayer);if(o.errorMessage)return{errorMessage:o.errorMessage};var a=n,c=o;!function(t,e){t.a<1&&e.a<1||t.a}(n,o),n.a<1&&(a=u(o,n)),o.a<1&&(c=u(n,o));var i="Text"===e.firstColor.type||"Text"===e.secondColor.type;return{backgroundLayer:r.bgLayer,originalBgColor:n,normalizedBgColor:a,foregroundLayer:r.fgLayer,originalFgColor:o,normalizedFgColor:c,hasText:i}},p=function(t){var e=t.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),r=(e&&e[4]||"").trim(),n=e?(256|e[1]).toString(16).slice(1)+(256|e[2]).toString(16).slice(1)+(256|e[3]).toString(16).slice(1):t;return n+=(255*(""!==r?r:1)|256).toString(16).slice(1)},y=function(t,e){if("Text"===e.type){var r=MSImmutableColor.colorWithSVGString_(t),o=MSColor.alloc().initWithImmutableObject_(r);e.sketchObject.setTextColor(o)}else"Artboard"===e.type?(e.background.enabled=!0,e.background.color=t):e.style.fills=[{color:t,fillType:n.FillType.Color}]}},"./src/sketch/utilities/index.js":
/*!***************************************!*\
  !*** ./src/sketch/utilities/index.js ***!
  \***************************************/
/*! exports provided: openURL, saveSetting, saveAllSettings, loadSetting, loadAllSettings, showToast, loadMixpanelDistinctId, generateSimulatedArtboards, getArtboardNames, getSelectedArtboard, exportArtboard, getArtboardSize, getLayers, convertRGBtoHex, applyColorToLayer, SETTINGS_LICENSE, SETTINGS_STATUS, SETTINGS_EMAIL, SETTINGS_FREQUENCY, SETTINGS_VERIFICATION, SETTINGS_MIXPANELID, SETTINGS_CONTRASTFAILMESSAGESHOWN, SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT, URL_PRICING, URL_SUPPORT */function(t,e,r){"use strict";r.r(e);var n=r(/*! ./common */"./src/sketch/utilities/common.js");r.d(e,"openURL",function(){return n.openURL}),r.d(e,"saveSetting",function(){return n.saveSetting}),r.d(e,"saveAllSettings",function(){return n.saveAllSettings}),r.d(e,"loadSetting",function(){return n.loadSetting}),r.d(e,"loadAllSettings",function(){return n.loadAllSettings}),r.d(e,"showToast",function(){return n.showToast}),r.d(e,"loadMixpanelDistinctId",function(){return n.loadMixpanelDistinctId});var o=r(/*! ./color-blind-simulation */"./src/sketch/utilities/color-blind-simulation.js");r.d(e,"generateSimulatedArtboards",function(){return o.generateSimulatedArtboards}),r.d(e,"getArtboardNames",function(){return o.getArtboardNames}),r.d(e,"getSelectedArtboard",function(){return o.getSelectedArtboard}),r.d(e,"exportArtboard",function(){return o.exportArtboard}),r.d(e,"getArtboardSize",function(){return o.getArtboardSize});var a=r(/*! ./contrast-check */"./src/sketch/utilities/contrast-check.js");r.d(e,"getLayers",function(){return a.getLayers}),r.d(e,"convertRGBtoHex",function(){return a.convertRGBtoHex}),r.d(e,"applyColorToLayer",function(){return a.applyColorToLayer});var c=r(/*! ./constants */"./src/sketch/utilities/constants.js");r.d(e,"SETTINGS_LICENSE",function(){return c.SETTINGS_LICENSE}),r.d(e,"SETTINGS_STATUS",function(){return c.SETTINGS_STATUS}),r.d(e,"SETTINGS_EMAIL",function(){return c.SETTINGS_EMAIL}),r.d(e,"SETTINGS_FREQUENCY",function(){return c.SETTINGS_FREQUENCY}),r.d(e,"SETTINGS_VERIFICATION",function(){return c.SETTINGS_VERIFICATION}),r.d(e,"SETTINGS_MIXPANELID",function(){return c.SETTINGS_MIXPANELID}),r.d(e,"SETTINGS_CONTRASTFAILMESSAGESHOWN",function(){return c.SETTINGS_CONTRASTFAILMESSAGESHOWN}),r.d(e,"SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT",function(){return c.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT}),r.d(e,"URL_PRICING",function(){return c.URL_PRICING}),r.d(e,"URL_SUPPORT",function(){return c.URL_SUPPORT})},sketch:
/*!*************************!*\
  !*** external "sketch" ***!
  \*************************/
/*! no static exports found */function(t,e){t.exports=require("sketch")},"sketch/dom":
/*!*****************************!*\
  !*** external "sketch/dom" ***!
  \*****************************/
/*! no static exports found */function(t,e){t.exports=require("sketch/dom")},"sketch/settings":
/*!**********************************!*\
  !*** external "sketch/settings" ***!
  \**********************************/
/*! no static exports found */function(t,e){t.exports=require("sketch/settings")},"sketch/ui":
/*!****************************!*\
  !*** external "sketch/ui" ***!
  \****************************/
/*! no static exports found */function(t,e){t.exports=require("sketch/ui")}});"default"===t&&"function"==typeof r?r(e):r[t](e)}that.onRun=__skpm_run.bind(this,"default");