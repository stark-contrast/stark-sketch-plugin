var that=this;function __skpm_run(t,e){that.context=e;var r=function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s="./src/sketch/gethelp.js")}({"./node_modules/@stark-contrast/color-utilities/lib/__constants.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/__constants.js ***!
  \*************************************************************************/
/*! no static exports found */function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CB_ACHROLY=e.CB_ACHRO=e.CB_TRITALY=e.CB_TRITA=e.CB_DEUTERLY=e.CB_DEUTER=e.CB_PROTALY=e.CB_PROTA=e.RGBA_REGEX=void 0,e.RGBA_REGEX=/rgba?\((\d+.?\d+|\d),\s*(\d+.?\d+|\d),\s*(\d+.?\d+|\d),\s*(\d+.?\d+|\d)?\)/,e.CB_PROTA="Protanopia",e.CB_PROTALY="Protanomaly",e.CB_DEUTER="Deuteranopia",e.CB_DEUTERLY="Deuteranomaly",e.CB_TRITA="Tritanopia",e.CB_TRITALY="Tritanomaly",e.CB_ACHRO="Achromatopsia",e.CB_ACHROLY="Achromatomaly"},"./node_modules/@stark-contrast/color-utilities/lib/__prop-types.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/__prop-types.js ***!
  \**************************************************************************/
/*! no static exports found */function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},"./node_modules/@stark-contrast/color-utilities/lib/color-mixer.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/color-mixer.js ***!
  \*************************************************************************/
/*! no static exports found */function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MixColors=void 0,e.MixColors=function(t,e){for(var r=[t.r,t.g,t.b],o=[e.r,e.g,e.b],n=[],a=0;a<=2;a++){var i=o[a],s=r[a];n.push(s+(i-s)*(e.a||1))}return{r:Math.round(n[0]),g:Math.round(n[1]),b:Math.round(n[2]),a:1}}},"./node_modules/@stark-contrast/color-utilities/lib/color-modifiers.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/color-modifiers.js ***!
  \*****************************************************************************/
/*! no static exports found */function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightenColor=e.DarkenColor=void 0;var o=r(/*! ./hsl-conversions */"./node_modules/@stark-contrast/color-utilities/lib/hsl-conversions.js"),n=r(/*! ./rgb-conversions */"./node_modules/@stark-contrast/color-utilities/lib/rgb-conversions.js");e.DarkenColor=function(t,e){var r=n.ConvertRgbaToBaseHsla(t);return r.l-=e,r.l<0&&(r.l=0),o.ConvertBaseHslaToRgba(r)},e.LightenColor=function(t,e){var r=n.ConvertRgbaToBaseHsla(t);return r.l+=e,r.l>1&&(r.l=1),o.ConvertBaseHslaToRgba(r)}},"./node_modules/@stark-contrast/color-utilities/lib/contrast-checker.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/contrast-checker.js ***!
  \******************************************************************************/
/*! no static exports found */function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetContrastRatio=void 0,e.GetContrastRatio=function(t,e,r){var o=function(t){var e,r,o;return e=t.r/255,r=t.g/255,o=t.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))},n=(Math.max(o(t),o(e))+.05)/(Math.min(o(t),o(e))+.05);if(r){var a=String(n);if(-1!==a.indexOf(".")){var i=a.split(".");n=1===i.length?Number(a):Number(i[0]+"."+i[1].charAt(0)+i[1].charAt(1))}n=Number(n.toFixed(2))}return n}},"./node_modules/@stark-contrast/color-utilities/lib/get-luminance.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/get-luminance.js ***!
  \***************************************************************************/
/*! no static exports found */function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetLuminance=void 0,e.GetLuminance=function(t){var e,r,o,n,a,i;return e=t.r/255,r=t.g/255,o=t.b/255,n=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),a=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),i=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),Number((.2126*n+.7152*a+.0722*i).toFixed(2))}},"./node_modules/@stark-contrast/color-utilities/lib/get-nearest-passing-color.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/get-nearest-passing-color.js ***!
  \***************************************************************************************/
/*! no static exports found */function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetColorSuggestions=e.GetNearestPassingColor=e.DetermineColorModification=void 0;var o=r(/*! ./color-modifiers */"./node_modules/@stark-contrast/color-utilities/lib/color-modifiers.js"),n=r(/*! ./contrast-checker */"./node_modules/@stark-contrast/color-utilities/lib/contrast-checker.js"),a=r(/*! ./rgb-conversions */"./node_modules/@stark-contrast/color-utilities/lib/rgb-conversions.js");e.DetermineColorModification=function(t,e,r){void 0===r&&(r=.05);var a=o.LightenColor(t,r),i=o.DarkenColor(t,r);return n.GetContrastRatio(a,e)>n.GetContrastRatio(i,e)?"light":"dark"},e.GetNearestPassingColor=function(t,r,a,i,s){var c;void 0===a&&(a=.05),void 0===i&&(i=4.5);var u=e.DetermineColorModification(t,r,a);c=s?"light"===s?o.LightenColor:o.DarkenColor:"light"===u?o.LightenColor:o.DarkenColor;for(var l=a,d=n.GetContrastRatio(t,r),g=d<i,f=t;g;){var b=c(t,l+=a),S=d;(d=n.GetContrastRatio(b,r))>=i&&(f=b,g=!1),S===d&&(g=!1,d<i&&(f=e.GetNearestPassingColor(t,r,a,i,c===o.LightenColor?"dark":"light")))}return f},e.GetColorSuggestions=function(t,r,n,i,s){void 0===n&&(n=4),void 0===i&&(i=.05),void 0===s&&(s=.1);for(var c=e.DetermineColorModification(t,r,i),u=e.GetNearestPassingColor(t,r,i),l="light"===c?o.LightenColor:o.DarkenColor,d=[a.ConvertRgbaToRgbaString(u)],g=1;g<n;g++)d.push(a.ConvertRgbaToRgbaString(l(u,g*s)));var f=0;if(d.forEach(function(t,e){0!==e&&t===d[e-1]&&f++}),f>2){var b="light"===c?o.DarkenColor:o.LightenColor,S=e.GetNearestPassingColor(t,r,i,4.5,"light"===c?"dark":"light"),T=[a.ConvertRgbaToRgbaString(S)];for(g=1;g<n;g++)T.push(a.ConvertRgbaToRgbaString(b(S,.1*g)));var h=0;if(T.forEach(function(t,e){0!==e&&t===T[e-1]&&h++}),h<f)return T}return d}},"./node_modules/@stark-contrast/color-utilities/lib/hex-conversions.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/hex-conversions.js ***!
  \*****************************************************************************/
/*! no static exports found */function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConvertHexToRgba=e.ConvertHexToRgbaString=void 0,e.ConvertHexToRgbaString=function(t){var e=t.startsWith("#")?t.substring(1,t.length+1):t,r={r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:parseInt(e.slice(6,8),16)/255};return"rgba("+r.r+", "+r.g+", "+r.b+", "+(r.a?r.a.toFixed(2):1)+")"},e.ConvertHexToRgba=function(t){var e=t.startsWith("#")?t.substring(1,t.length+1):t,r=parseInt(e.slice(6,8),16)/255||1;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:Number(r.toFixed(2))}}},"./node_modules/@stark-contrast/color-utilities/lib/hsl-conversions.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/hsl-conversions.js ***!
  \*****************************************************************************/
/*! no static exports found */function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConvertBaseHslaToRgba=void 0,e.ConvertBaseHslaToRgba=function(t){var e,r,o,n=function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t};if(0===t.s)e=r=o=t.l;else{var a=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,i=2*t.l-a;e=n(i,a,t.h+1/3),r=n(i,a,t.h),o=n(i,a,t.h-1/3)}return{r:Math.round(255*e),g:Math.round(255*r),b:Math.round(255*o),a:t.a}}},"./node_modules/@stark-contrast/color-utilities/lib/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/index.js ***!
  \*******************************************************************/
/*! no static exports found */function(t,e,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,r,o){void 0===o&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||o(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(/*! ./color-mixer */"./node_modules/@stark-contrast/color-utilities/lib/color-mixer.js"),e),n(r(/*! ./color-modifiers */"./node_modules/@stark-contrast/color-utilities/lib/color-modifiers.js"),e),n(r(/*! ./contrast-checker */"./node_modules/@stark-contrast/color-utilities/lib/contrast-checker.js"),e),n(r(/*! ./get-luminance */"./node_modules/@stark-contrast/color-utilities/lib/get-luminance.js"),e),n(r(/*! ./get-nearest-passing-color */"./node_modules/@stark-contrast/color-utilities/lib/get-nearest-passing-color.js"),e),n(r(/*! ./hex-conversions */"./node_modules/@stark-contrast/color-utilities/lib/hex-conversions.js"),e),n(r(/*! ./hsl-conversions */"./node_modules/@stark-contrast/color-utilities/lib/hsl-conversions.js"),e),n(r(/*! ./rgb-conversions */"./node_modules/@stark-contrast/color-utilities/lib/rgb-conversions.js"),e),n(r(/*! ./simulate-colorblindness */"./node_modules/@stark-contrast/color-utilities/lib/simulate-colorblindness.js"),e),n(r(/*! ./__constants */"./node_modules/@stark-contrast/color-utilities/lib/__constants.js"),e),n(r(/*! ./__prop-types */"./node_modules/@stark-contrast/color-utilities/lib/__prop-types.js"),e)},"./node_modules/@stark-contrast/color-utilities/lib/rgb-conversions.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/rgb-conversions.js ***!
  \*****************************************************************************/
/*! no static exports found */function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConvertRgbaToHex=e.ConvertRgbaToBaseHsla=e.ConvertRgbaToHsla=e.ConvertRgbaToBaseRgba=e.ConvertBaseRgbaToRgba=e.ConvertRgbaStringToBaseRgba=e.ConvertRgbaStringToRgba=e.ConvertBaseRgbaToRgbaString=e.ConvertRgbaToRgbaString=void 0;var o=r(/*! ./__constants */"./node_modules/@stark-contrast/color-utilities/lib/__constants.js");e.ConvertRgbaToRgbaString=function(t){return"rgba("+t.r+", "+t.g+", "+t.b+", "+(t.a?t.a:1)+")"},e.ConvertBaseRgbaToRgbaString=function(t){return"rgba("+Math.round(255*t.r)+", "+Math.round(255*t.g)+", "+Math.round(255*t.b)+", "+(t.a?t.a:1)+")"},e.ConvertRgbaStringToRgba=function(t){var e=o.RGBA_REGEX,r=t.match(e);return r&&(null===r||void 0===r?void 0:r.length)>0?{r:Number(r[1]),g:Number(r[2]),b:Number(r[3]),a:Number(r[4])}:{r:0,g:0,b:0,a:0}},e.ConvertRgbaStringToBaseRgba=function(t){var e=o.RGBA_REGEX,r=t.match(e);return r&&(null===r||void 0===r?void 0:r.length)>0?{r:Number(r[1])/255,g:Number(r[2])/255,b:Number(r[3])/255,a:Number(r[4])}:{r:0,g:0,b:0,a:0}},e.ConvertBaseRgbaToRgba=function(t,e){var r=t.a?t.a:1;return{r:255*t.r,g:255*t.g,b:255*t.b,a:e?255*r:r}},e.ConvertRgbaToBaseRgba=function(t,e){var r=t.a?t.a:255;return{r:t.r/255,g:t.g/255,b:t.b/255,a:e?r/255:r}},e.ConvertRgbaToHsla=function(t){var e,r=t.r/255,o=t.g/255,n=t.b/255,a=Math.max(r,o,n),i=Math.min(r,o,n),s=0,c=(a+i)/2;if(a===i)s=e=0;else{var u=a-i;switch(e=c>.5?u/(2-a-i):u/(a+i),a){case r:s=(o-n)/u+(o<n?6:0);break;case o:s=(n-r)/u+2;break;case n:s=(r-o)/u+4}s/=6}return{h:Math.round(360*s),s:Math.round(100*e),l:Math.round(100*c),a:t.a}},e.ConvertRgbaToBaseHsla=function(t){var e,r=t.r/255,o=t.g/255,n=t.b/255,a=Math.max(r,o,n),i=Math.min(r,o,n),s=0,c=(a+i)/2;if(a===i)s=e=0;else{var u=a-i;switch(e=c>.5?u/(2-a-i):u/(a+i),a){case r:s=(o-n)/u+(o<n?6:0);break;case o:s=(n-r)/u+2;break;case n:s=(r-o)/u+4}s/=6}return{h:s,s:e,l:c,a:t.a}},e.ConvertRgbaToHex=function(t,e,r){var o=function(t){return 1===t.length?"0"+t:""+t};return(e?"#":"")+o(Math.round(t.r).toString(16))+o(Math.round(t.g).toString(16))+o(Math.round(t.b).toString(16))+(r&&t.a?o(Math.round(255*t.a).toString(16)):"")}},"./node_modules/@stark-contrast/color-utilities/lib/simulate-colorblindness.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@stark-contrast/color-utilities/lib/simulate-colorblindness.js ***!
  \*************************************************************************************/
/*! no static exports found */function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetColorblindMatrixString=e.GetColorblindMatrixArray=e.SimulateColorblindness=void 0,e.SimulateColorblindness=function(t,e){var r=function(t){return t<0?0:t<255?t:255},o=t.r,n=t.g,a=t.b,i=t.a?t.a:1,s=o*e[0]+n*e[1]+a*e[2]+i*e[3]+e[4],c=o*e[5]+n*e[6]+a*e[7]+i*e[8]+e[9],u=o*e[10]+n*e[11]+a*e[12]+i*e[13]+e[14],l=o*e[15]+n*e[16]+a*e[17]+i*e[18]+e[19];return{r:Math.round(r(s)),g:Math.round(r(c)),b:Math.round(r(u)),a:r(l)}},e.GetColorblindMatrixArray=function(t){switch(t){case"Protanopia":return[.567,.433,0,0,0,.558,.442,0,0,0,0,.242,.758,0,0,0,0,0,1,0];case"Protanomaly":return[.817,.183,0,0,0,.333,.667,0,0,0,0,.125,.875,0,0,0,0,0,1,0];case"Deuteranopia":return[.625,.375,0,0,0,.7,.3,0,0,0,0,.3,.7,0,0,0,0,0,1,0];case"Deuteranomaly":return[.8,.2,0,0,0,.258,.742,0,0,0,0,.142,.858,0,0,0,0,0,1,0];case"Tritanopia":return[.95,.05,0,0,0,0,.433,.567,0,0,0,.475,.525,0,0,0,0,0,1,0];case"Tritanomaly":return[.967,.033,0,0,0,0,.733,.267,0,0,0,.183,.817,0,0,0,0,0,1,0];case"Achromatopsia":return[.299,.587,.114,0,0,.299,.587,.114,0,0,.299,.587,.114,0,0,0,0,0,1,0];case"Achromatomaly":return[.618,.32,.062,0,0,.163,.775,.062,0,0,.163,.32,.516,0,0,0,0,0,1,0];default:return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}},e.GetColorblindMatrixString=function(t){return e.GetColorblindMatrixArray(t).join(", ")}},"./src/sketch/gethelp.js":
/*!*******************************!*\
  !*** ./src/sketch/gethelp.js ***!
  \*******************************/
/*! exports provided: default */function(t,e,r){"use strict";r.r(e);var o=r(/*! ./utilities */"./src/sketch/utilities/index.js");e.default=function(){o.openURL(o.URL_SUPPORT)}},"./src/sketch/utilities/common.js":
/*!****************************************!*\
  !*** ./src/sketch/utilities/common.js ***!
  \****************************************/
/*! exports provided: openURL, saveSetting, saveAllSettings, loadSetting, loadAllSettings, showToast, loadMixpanelDistinctId */function(t,e,r){"use strict";r.r(e),r.d(e,"openURL",function(){return c}),r.d(e,"saveSetting",function(){return u}),r.d(e,"saveAllSettings",function(){return l}),r.d(e,"loadSetting",function(){return d}),r.d(e,"loadAllSettings",function(){return g}),r.d(e,"showToast",function(){return f}),r.d(e,"loadMixpanelDistinctId",function(){return b});var o=r(/*! sketch/settings */"sketch/settings"),n=r.n(o),a=r(/*! sketch/ui */"sketch/ui"),i=r.n(a),s=r(/*! ./constants */"./src/sketch/utilities/constants.js"),c=function(t){var e=NSURL.URLWithString(t);NSWorkspace.sharedWorkspace().openURL(e)},u=function(t,e){n.a.setSettingForKey("com.stark.".concat(t),e)},l=function(t){u(s.SETTINGS_LICENSE,t.licenseKey),u(s.SETTINGS_STATUS,"valid"),u(s.SETTINGS_EMAIL,t.email),u(s.SETTINGS_FREQUENCY,t.frequency),u(s.SETTINGS_VERIFICATION,(new Date).getMonth())},d=function(t){return n.a.settingForKey("com.stark.".concat(t))},g=function(){return{licenseKey:d(s.SETTINGS_LICENSE),status:d(s.SETTINGS_STATUS),email:d(s.SETTINGS_EMAIL),frequency:d(s.SETTINGS_FREQUENCY),verificationDate:d(s.SETTINGS_VERIFICATION),contrastFailMessageShown:void 0===d(s.SETTINGS_CONTRASTFAILMESSAGESHOWN)||""===d(s.SETTINGS_CONTRASTFAILMESSAGESHOWN)||d(s.SETTINGS_CONTRASTFAILMESSAGESHOWN),suggestionsTriesLeft:void 0===d(s.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT)||""===d(s.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT)?4:d(s.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT)}},f=function(t){i.a.message(t)},b=function(){var t=d(s.SETTINGS_MIXPANELID);return t||(t=((new Date).getUTCMilliseconds().toString()+(new Date).getTime().toString()).toString(),u(s.SETTINGS_MIXPANELID,t)),t}},"./src/sketch/utilities/constants.js":
/*!*******************************************!*\
  !*** ./src/sketch/utilities/constants.js ***!
  \*******************************************/
/*! exports provided: SETTINGS_LICENSE, SETTINGS_STATUS, SETTINGS_EMAIL, SETTINGS_FREQUENCY, SETTINGS_VERIFICATION, SETTINGS_MIXPANELID, SETTINGS_CONTRASTFAILMESSAGESHOWN, SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT, URL_PRICING, URL_SUPPORT */function(t,e,r){"use strict";r.r(e),r.d(e,"SETTINGS_LICENSE",function(){return o}),r.d(e,"SETTINGS_STATUS",function(){return n}),r.d(e,"SETTINGS_EMAIL",function(){return a}),r.d(e,"SETTINGS_FREQUENCY",function(){return i}),r.d(e,"SETTINGS_VERIFICATION",function(){return s}),r.d(e,"SETTINGS_MIXPANELID",function(){return c}),r.d(e,"SETTINGS_CONTRASTFAILMESSAGESHOWN",function(){return u}),r.d(e,"SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT",function(){return l}),r.d(e,"URL_PRICING",function(){return d}),r.d(e,"URL_SUPPORT",function(){return g});var o="license-key",n="subscription-status",a="email",i="frequency",s="verification",c="mixpanel-unique-id",u="contrast-fail-message-shown",l="suggestions-tries-left",d="https://getstark.co/pricing",g="https://getstark.co/support"},"./src/sketch/utilities/contrast-check.js":
/*!************************************************!*\
  !*** ./src/sketch/utilities/contrast-check.js ***!
  \************************************************/
/*! exports provided: getLayers, getChildLayers, applyColorToLayer */function(t,e,r){"use strict";r.r(e),r.d(e,"getLayers",function(){return b}),r.d(e,"getChildLayers",function(){return c}),r.d(e,"applyColorToLayer",function(){return S});var o=r(/*! @stark-contrast/color-utilities */"./node_modules/@stark-contrast/color-utilities/lib/index.js"),n=r(/*! sketch/dom */"sketch/dom").Style,a=function(t){return"Group"===t.type||"SymbolInstance"===t.type||"SymbolMaster"===t.type||"Artboard"===t.type},i=function(t){return"SymbolInstance"===t.type},s=function(t){var e=[];return t.forEach(function(t){(function(t){return"Artboard"===t.type||"Shape"===t.type||"ShapePath"===t.type||"Image"===t.type||"Text"===t.type})(t)&&("Artboard"===t.type?e.push(t.background.color):"Shape"===t.type||"ShapePath"===t.type||"Image"===t.type?t.style.fills.forEach(function(t){t.fillType===n.FillType.Color&&e.push(t)}):"Text"===t.type&&e.push(t.sketchObject.textColor()))}),e},c=function(t,e){var r=[];return function t(o){if(a(o)&&!i(o))o.layers.forEach(function(e){a(e)?t(e):r.push(e)});else if(i(o)&&e){var n=o.detach({recursively:!0});t(n)}else i(o)&&(n=o.master,t(n))}(t),r},u=function(t){if("Artboard"===t.type)return Object(o.ConvertHexToRgba)(t.background.color);if("Shape"===t.type||"ShapePath"===t.type||"Image"===t.type){var e=Object(o.ConvertHexToRgba)(t.style.fills[0].color);return t.style.opacity<1&&e.a<1?{errorMessage:"Either the fill or layer opacity needs to be at full opacity."}:(e.a=t.style.opacity<1?t.style.opacity:e.a,e)}if("Text"===t.type){var r=t.sketchObject.textColor();return{r:255*r.red(),g:255*r.green(),b:255*r.blue(),a:r.alpha()}}},l=function(t){var e=[],r=c(t);if(e=e.concat(r),r.length<2){e.push(t);var o=function(t){var e=[];return function t(r){if(r.parent&&function(t){return"Artboard"===t.type?!!t.background.color:"Shape"===t.type||"ShapePath"===t.type||"Image"===t.type?!!t.style.fills:"Text"===t.type}(r.parent))e.push(r.parent);else{if("Page"===r.parent.type)return;t(r.parent)}}(t),e}(t);e=e.concat(o)}var n=g(e);if("valid"!==n)return{errorMessage:n};var a=s(e),i=f(a);return"valid"!==i?{errorMessage:i}:{firstColor:e[1],secondColor:e[0]}},d=function(t){var e=[];a(t[0])?e=e.concat(c(t[0])):e.push(t[0]),a(t[1])?e=e.concat(c(t[1])):e.push(t[1]);var r=g(e);if("valid"!==r)return{errorMessage:r};var o=s(e),n=f(o);return"valid"!==n?{errorMessage:n}:{firstColor:e[1],secondColor:e[0]}},g=function(t){return 1===t.length?"Please select an additional layer to check against.":t.length>2?"Too many layers to check against. Try directly selecting two layers.":"valid"},f=function(t){return t.length<2?"You can only check against colors, not mixed fills, gradients or bitmaps.":t.length>2?"Make sure your layers don't have more than one fill applied.":"valid"},b=function(t){var e=function(t){var e={};switch(t.length){case 0:e.errorMessage="Please select at least one layer to run the contrast checker.";break;case 1:e=l(t[0]);break;case 2:e=d(t);break;default:e.errorMessage="You can only run the contrast checker against two layers."}return e}(t);if(e.errorMessage)return{errorMessage:e.errorMessage};var r=function(t){var e=t.secondColor,r=t.firstColor;return"Text"!==t.firstColor.type&&"Text"!==t.secondColor.type||(e="Text"===t.secondColor.type?t.firstColor:t.secondColor,r="Text"===t.secondColor.type?t.secondColor:t.firstColor),{bgLayer:e,fgLayer:r}}(e),n=u(r.bgLayer);if(n.errorMessage)return{errorMessage:n.errorMessage};var a=u(r.fgLayer);if(a.errorMessage)return{errorMessage:a.errorMessage};var i=n,s=a,c=function(t,e){return t.a<1&&e.a<1?{errorMessage:"At least one layer needs to be at full opacity."}:t.a<1?{errorMessage:"Only the foreground (top) layer can be less than 100% opacity."}:void 0}(n,a);if(null===c||void 0===c?void 0:c.errorMessage)return c;n.a<1&&(i=Object(o.MixColors)(a,n)),a.a<1&&(s=Object(o.MixColors)(n,a));var g="Text"===e.firstColor.type||"Text"===e.secondColor.type;return{backgroundLayer:r.bgLayer,originalBgColor:n,normalizedBgColor:i,foregroundLayer:r.fgLayer,originalFgColor:a,normalizedFgColor:s,hasText:g}},S=function(t,e){if("Text"===e.type){var r=MSImmutableColor.colorWithSVGString_(t),o=MSColor.alloc().initWithImmutableObject_(r);e.sketchObject.setTextColor(o)}else"Artboard"===e.type?(e.background.enabled=!0,e.background.color=t):e.style.fills=[{color:t,fillType:n.FillType.Color}]}},"./src/sketch/utilities/index.js":
/*!***************************************!*\
  !*** ./src/sketch/utilities/index.js ***!
  \***************************************/
/*! exports provided: openURL, saveSetting, saveAllSettings, loadSetting, loadAllSettings, showToast, loadMixpanelDistinctId, generateSimulatedArtboards, getArtboardNames, getSelectedArtboard, exportArtboard, getArtboardSize, getLayers, applyColorToLayer, SETTINGS_LICENSE, SETTINGS_STATUS, SETTINGS_EMAIL, SETTINGS_FREQUENCY, SETTINGS_VERIFICATION, SETTINGS_MIXPANELID, SETTINGS_CONTRASTFAILMESSAGESHOWN, SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT, URL_PRICING, URL_SUPPORT */function(t,e,r){"use strict";r.r(e);var o=r(/*! ./common */"./src/sketch/utilities/common.js");r.d(e,"openURL",function(){return o.openURL}),r.d(e,"saveSetting",function(){return o.saveSetting}),r.d(e,"saveAllSettings",function(){return o.saveAllSettings}),r.d(e,"loadSetting",function(){return o.loadSetting}),r.d(e,"loadAllSettings",function(){return o.loadAllSettings}),r.d(e,"showToast",function(){return o.showToast}),r.d(e,"loadMixpanelDistinctId",function(){return o.loadMixpanelDistinctId});var n=r(/*! ./vision-simulator */"./src/sketch/utilities/vision-simulator.js");r.d(e,"generateSimulatedArtboards",function(){return n.generateSimulatedArtboards}),r.d(e,"getArtboardNames",function(){return n.getArtboardNames}),r.d(e,"getSelectedArtboard",function(){return n.getSelectedArtboard}),r.d(e,"exportArtboard",function(){return n.exportArtboard}),r.d(e,"getArtboardSize",function(){return n.getArtboardSize});var a=r(/*! ./contrast-check */"./src/sketch/utilities/contrast-check.js");r.d(e,"getLayers",function(){return a.getLayers}),r.d(e,"applyColorToLayer",function(){return a.applyColorToLayer});var i=r(/*! ./constants */"./src/sketch/utilities/constants.js");r.d(e,"SETTINGS_LICENSE",function(){return i.SETTINGS_LICENSE}),r.d(e,"SETTINGS_STATUS",function(){return i.SETTINGS_STATUS}),r.d(e,"SETTINGS_EMAIL",function(){return i.SETTINGS_EMAIL}),r.d(e,"SETTINGS_FREQUENCY",function(){return i.SETTINGS_FREQUENCY}),r.d(e,"SETTINGS_VERIFICATION",function(){return i.SETTINGS_VERIFICATION}),r.d(e,"SETTINGS_MIXPANELID",function(){return i.SETTINGS_MIXPANELID}),r.d(e,"SETTINGS_CONTRASTFAILMESSAGESHOWN",function(){return i.SETTINGS_CONTRASTFAILMESSAGESHOWN}),r.d(e,"SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT",function(){return i.SETTINGS_CONTRASTSUGGESTIONSTRIESLEFT}),r.d(e,"URL_PRICING",function(){return i.URL_PRICING}),r.d(e,"URL_SUPPORT",function(){return i.URL_SUPPORT})},"./src/sketch/utilities/vision-simulator.js":
/*!**************************************************!*\
  !*** ./src/sketch/utilities/vision-simulator.js ***!
  \**************************************************/
/*! exports provided: generateSimulatedArtboards, getArtboardNames, getSelectedArtboard, exportArtboard, getArtboardSize */function(t,e,r){"use strict";r.r(e),r.d(e,"generateSimulatedArtboards",function(){return d}),r.d(e,"getArtboardNames",function(){return g}),r.d(e,"getSelectedArtboard",function(){return f}),r.d(e,"exportArtboard",function(){return b}),r.d(e,"getArtboardSize",function(){return S});var o=r(/*! sketch */"sketch"),n=r.n(o),a=r(/*! @stark-contrast/color-utilities */"./node_modules/@stark-contrast/color-utilities/lib/index.js"),i=r(/*! ./contrast-check */"./src/sketch/utilities/contrast-check.js"),s=r(/*! ./common */"./src/sketch/utilities/common.js"),c=r(/*! sketch/dom */"sketch/dom").Style,u=function(t,e){var r=Object(a.ConvertHexToRgba)(t);return Object(a.ConvertRgbaToRgbaString)(Object(a.SimulateColorblindness)(r,e))},l=function(t,e){t.forEach(function(t){if(t.fillType===c.FillType.Color){var r=u(t.color,e);t.color=r}else t.fillType===c.FillType.Gradient&&t.gradient.stops.forEach(function(t){var r=u(t.color,e);t.color=r})})},d=function(t,e){var r=t.name,o=t.frame.x,c=[];e.forEach(function(e){var n=Object(a.GetColorblindMatrixArray)(e),s=t.duplicate();s.name="".concat(r," - ").concat(e);var d=o+s.frame.width+100;if(s.frame.x=d,o=d,s.background&&s.background.color){var g=u(s.background.color,n);Object(i.applyColorToLayer)(g,s)}c.push(s),Object(i.getChildLayers)(s,!0).forEach(function(t){if(("Shape"===t.type||"ShapePath"===t.type||"Image"===t.type||"Text"===t.type)&&(l(t.style.fills,n),l(t.style.borders,n),"Text"===t.type)){var e=t.sketchObject.textColor(),r={r:255*e.red(),g:255*e.green(),b:255*e.blue(),a:e.alpha()},o=Object(a.ConvertRgbaStringToRgba)(u(Object(a.ConvertRgbaToHex)(r),n));Object(i.applyColorToLayer)(Object(a.ConvertRgbaToHex)(o,!0,!0),t)}})}),n.a.getSelectedDocument().centerOnLayer(c[0]),Object(s.showToast)("".concat(e.length," Simulated artboard").concat(e.length>1?"s":""," generated."))},g=function(t){var e=t.selectedPage,r=f(t),o=[],n=/'/g;return e.layers.forEach(function(t){("Artboard"===t.type||"SymbolMaster"===t.type)&&o.push({id:t.id,name:t.name.replace(n,"’"),isSelected:r==t.id})}),o.reverse()},f=function(t){var e;return t.selectedLayers.layers.forEach(function(t){e=t.sketchObject.parentArtboard()}),e&&(e=e.objectID()),e},b=function(t){return n.a.export(t,{scales:"2",formats:"png",output:!1}).toString("base64")},S=function(t){return{width:2*t.frame.width,height:2*t.frame.height}}},sketch:
/*!*************************!*\
  !*** external "sketch" ***!
  \*************************/
/*! no static exports found */function(t,e){t.exports=require("sketch")},"sketch/dom":
/*!*****************************!*\
  !*** external "sketch/dom" ***!
  \*****************************/
/*! no static exports found */function(t,e){t.exports=require("sketch/dom")},"sketch/settings":
/*!**********************************!*\
  !*** external "sketch/settings" ***!
  \**********************************/
/*! no static exports found */function(t,e){t.exports=require("sketch/settings")},"sketch/ui":
/*!****************************!*\
  !*** external "sketch/ui" ***!
  \****************************/
/*! no static exports found */function(t,e){t.exports=require("sketch/ui")}});"default"===t&&"function"==typeof r?r(e):r[t](e)}that.onRun=__skpm_run.bind(this,"default");